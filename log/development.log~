DEPRECATION WARNING: Currently, Active Record suppresses errors raised within `after_rollback`/`after_commit` callbacks and only print them to the logs. In the next version, these errors will no longer be suppressed. Instead, the errors will propagate normally just like in other Active Record callbacks.

You can opt into the new behavior and remove this warning by setting:

  config.active_record.raise_in_transactional_callbacks = true

 (called from block in tsort_each at /home/leon/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/tsort.rb:226)
  [1m[36m (185.3ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (183.0ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations`  ON `schema_migrations` (`version`) 
  [1m[36mActiveRecord::SchemaMigration Load (1.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateProducts (20150505014354)
  [1m[35m (68.7ms)[0m  CREATE TABLE `products` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255), `desc` varchar(255), `price` int(11), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES (?)  [["version", "20150505014354"]]
  [1m[36m (37.3ms)[0m  [1mCOMMIT[0m
Migrating to CreateParts (20150505014820)
  [1m[35m (66.0ms)[0m  CREATE TABLE `parts` (`id` int(11) auto_increment PRIMARY KEY, `part_code` varchar(255), `part_name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES (?)  [["version", "20150505014820"]]
  [1m[36m (31.6ms)[0m  [1mCOMMIT[0m
Migrating to CreateBoms (20150505014917)
  [1m[35m (66.0ms)[0m  CREATE TABLE `boms` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255), `desc` varchar(255), `excel_file` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES (?)  [["version", "20150505014917"]]
  [1m[36m (23.3ms)[0m  [1mCOMMIT[0m
Migrating to FixColumnName (20150513020611)
  [1m[35m (241.0ms)[0m  ALTER TABLE `products` CHANGE `desc` `description` varchar(255) DEFAULT NULL
  [1m[36m (181.8ms)[0m  [1mALTER TABLE `boms` CHANGE `desc` `description` varchar(255) DEFAULT NULL[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES (?)[0m  [["version", "20150513020611"]]
  [1m[35m (22.0ms)[0m  COMMIT
Migrating to AddPartNameToProduct (20150523095757)
  [1m[36m (150.2ms)[0m  [1mALTER TABLE `products` ADD `part_name` varchar(255)[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES (?)[0m  [["version", "20150523095757"]]
  [1m[35m (22.7ms)[0m  COMMIT
Migrating to CreateBomItems (20150523181142)
  [1m[36m (65.8ms)[0m  [1mCREATE TABLE `bom_items` (`id` int(11) auto_increment PRIMARY KEY, `quantity` int(11), `description` varchar(255), `part_code` varchar(255), `bom_id` int(11), `product_id` int(11), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES (?)[0m  [["version", "20150523181142"]]
  [1m[35m (31.8ms)[0m  COMMIT
Migrating to AddHasOneToProduct (20150603040933)
  [1m[36m (175.0ms)[0m  [1mALTER TABLE `products` ADD `product_able_id` int(11)[0m
  [1m[35m (142.3ms)[0m  ALTER TABLE `products` ADD `product_able_type` varchar(255)
  [1m[36m (124.6ms)[0m  [1mCREATE  INDEX `index_products_on_product_able_id_and_product_able_type`  ON `products` (`product_able_id`, `product_able_type`) [0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES (?)[0m  [["version", "20150603040933"]]
  [1m[35m (22.8ms)[0m  COMMIT
Migrating to DeviseCreateAdmins (20150614153506)
  [1m[36m (83.6ms)[0m  [1mCREATE TABLE `admins` (`id` int(11) auto_increment PRIMARY KEY, `email` varchar(255) DEFAULT '' NOT NULL, `encrypted_password` varchar(255) DEFAULT '' NOT NULL, `reset_password_token` varchar(255), `reset_password_sent_at` datetime, `remember_created_at` datetime, `sign_in_count` int(11) DEFAULT 0 NOT NULL, `current_sign_in_at` datetime, `last_sign_in_at` datetime, `current_sign_in_ip` varchar(255), `last_sign_in_ip` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (116.5ms)[0m  CREATE UNIQUE INDEX `index_admins_on_email`  ON `admins` (`email`) 
  [1m[36m (124.8ms)[0m  [1mCREATE UNIQUE INDEX `index_admins_on_reset_password_token`  ON `admins` (`reset_password_token`) [0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES (?)[0m  [["version", "20150614153506"]]
  [1m[35m (23.0ms)[0m  COMMIT
Migrating to AddWarnToBomItems (20150711155209)
  [1m[36m (275.6ms)[0m  [1mALTER TABLE `bom_items` ADD `warn` tinyint(1)[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES (?)[0m  [["version", "20150711155209"]]
  [1m[35m (31.2ms)[0m  COMMIT
Migrating to CreateUnits (20150714125531)
  [1m[36m (73.7ms)[0m  [1mCREATE TABLE `units` (`id` int(11) auto_increment PRIMARY KEY, `unit` varchar(255), `targetunit` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES (?)[0m  [["version", "20150714125531"]]
  [1m[35m (31.6ms)[0m  COMMIT
Migrating to AddPreferToProducts (20150715160837)
  [1m[36m (208.6ms)[0m  [1mALTER TABLE `products` ADD `prefer` int(11) DEFAULT 0[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES (?)[0m  [["version", "20150715160837"]]
  [1m[35m (22.8ms)[0m  COMMIT
Migrating to AddDeltaToProducts (20150715165304)
  [1m[36m (132.9ms)[0m  [1mALTER TABLE `products` ADD `delta` tinyint(1) DEFAULT 1 NOT NULL[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES (?)[0m  [["version", "20150715165304"]]
  [1m[35m (22.7ms)[0m  COMMIT
Migrating to AddPtypeToProducts (20150719152815)
  [1m[36m (142.8ms)[0m  [1mALTER TABLE `products` ADD `ptype` varchar(255) DEFAULT 'default'[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES (?)[0m  [["version", "20150719152815"]]
  [1m[35m (23.1ms)[0m  COMMIT
Migrating to AddPackage1ToProducts (20150719153539)
  [1m[36m (283.3ms)[0m  [1mALTER TABLE `products` ADD `package1` varchar(255) DEFAULT 'default'[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES (?)[0m  [["version", "20150719153539"]]
  [1m[35m (23.2ms)[0m  COMMIT
Migrating to AddPackage2ToProducts (20150719155545)
  [1m[36m (183.5ms)[0m  [1mALTER TABLE `products` ADD `package2` varchar(255) DEFAULT 'default'[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES (?)[0m  [["version", "20150719155545"]]
  [1m[35m (56.7ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'mokotest'
  AND fk.table_name = 'admins'

  [1m[36m (0.2ms)[0m  [1mSHOW CREATE TABLE `admins`[0m
  [1m[35m (0.9ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'mokotest'
  AND fk.table_name = 'bom_items'

  [1m[36m (0.4ms)[0m  [1mSHOW CREATE TABLE `bom_items`[0m
  [1m[35m (0.4ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'mokotest'
  AND fk.table_name = 'boms'

  [1m[36m (0.1ms)[0m  [1mSHOW CREATE TABLE `boms`[0m
  [1m[35m (0.4ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'mokotest'
  AND fk.table_name = 'parts'

  [1m[36m (0.1ms)[0m  [1mSHOW CREATE TABLE `parts`[0m
  [1m[35m (0.3ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'mokotest'
  AND fk.table_name = 'products'

  [1m[36m (0.2ms)[0m  [1mSHOW CREATE TABLE `products`[0m
  [1m[35m (0.4ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'mokotest'
  AND fk.table_name = 'units'

  [1m[36m (0.2ms)[0m  [1mSHOW CREATE TABLE `units`[0m
DEPRECATION WARNING: Currently, Active Record suppresses errors raised within `after_rollback`/`after_commit` callbacks and only print them to the logs. In the next version, these errors will no longer be suppressed. Instead, the errors will propagate normally just like in other Active Record callbacks.

You can opt into the new behavior and remove this warning by setting:

  config.active_record.raise_in_transactional_callbacks = true

 (called from block in tsort_each at /home/leon/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/tsort.rb:226)


Started GET "/" for 127.0.0.1 at 2015-11-02 14:37:01 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by BomsController#upload as HTML
DEPRECATION WARNING: Currently, Active Record suppresses errors raised within `after_rollback`/`after_commit` callbacks and only print them to the logs. In the next version, these errors will no longer be suppressed. Instead, the errors will propagate normally just like in other Active Record callbacks.

You can opt into the new behavior and remove this warning by setting:

  config.active_record.raise_in_transactional_callbacks = true

 (called from <class:Bom> at /home/leon/fastbom/app/models/bom.rb:3)
DEPRECATION WARNING: Currently, Active Record suppresses errors raised within `after_rollback`/`after_commit` callbacks and only print them to the logs. In the next version, these errors will no longer be suppressed. Instead, the errors will propagate normally just like in other Active Record callbacks.

You can opt into the new behavior and remove this warning by setting:

  config.active_record.raise_in_transactional_callbacks = true

 (called from <class:Bom> at /home/leon/fastbom/app/models/bom.rb:3)
  Rendered boms/upload.html.erb within layouts/application (18.5ms)
  Rendered layouts/_shim.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_flash_messages.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.3ms)
  Rendered layouts/_google_analytics.html.erb (0.3ms)
Completed 200 OK in 6319ms (Views: 6265.7ms | ActiveRecord: 1.5ms)


Started GET "/assets/bom_item.self.css?body=1" for 127.0.0.1 at 2015-11-02 14:37:07 +0800


Started GET "/assets/boms.self.css?body=1" for 127.0.0.1 at 2015-11-02 14:37:07 +0800


Started GET "/assets/jquery_ujs.self.js?body=1" for 127.0.0.1 at 2015-11-02 14:37:07 +0800


Started GET "/assets/jquery.self.js?body=1" for 127.0.0.1 at 2015-11-02 14:37:07 +0800


Started GET "/assets/application.self.css?body=1" for 127.0.0.1 at 2015-11-02 14:37:07 +0800


Started GET "/assets/static_pages.self.css?body=1" for 127.0.0.1 at 2015-11-02 14:37:07 +0800


Started GET "/assets/custom.self.css?body=1" for 127.0.0.1 at 2015-11-02 14:37:07 +0800


Started GET "/assets/turbolinks.self.js?body=1" for 127.0.0.1 at 2015-11-02 14:37:07 +0800


Started GET "/assets/development/react.self.js?body=1" for 127.0.0.1 at 2015-11-02 14:37:07 +0800


Started GET "/assets/components.self.js?body=1" for 127.0.0.1 at 2015-11-02 14:37:07 +0800


Started GET "/assets/static_pages.self.js?body=1" for 127.0.0.1 at 2015-11-02 14:37:07 +0800


Started GET "/assets/bootstrap/modal.self.js?body=1" for 127.0.0.1 at 2015-11-02 14:37:07 +0800


Started GET "/assets/bom_item.self.js?body=1" for 127.0.0.1 at 2015-11-02 14:37:07 +0800


Started GET "/assets/static_pages/about.self.js?body=1" for 127.0.0.1 at 2015-11-02 14:37:07 +0800


Started GET "/assets/react_ujs.self.js?body=1" for 127.0.0.1 at 2015-11-02 14:37:07 +0800


Started GET "/assets/boms.self.js?body=1" for 127.0.0.1 at 2015-11-02 14:37:07 +0800


Started GET "/assets/application.self.js?body=1" for 127.0.0.1 at 2015-11-02 14:37:07 +0800


Started GET "/" for 127.0.0.1 at 2015-11-02 15:29:58 +0800
Processing by BomsController#upload as HTML
  Rendered boms/upload.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 104ms (Views: 102.7ms | ActiveRecord: 0.0ms)


Started GET "/assets/bom_item.self.css?body=1" for 127.0.0.1 at 2015-11-02 15:29:58 +0800


Started GET "/assets/boms.self.css?body=1" for 127.0.0.1 at 2015-11-02 15:29:58 +0800


Started GET "/assets/turbolinks.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:29:58 +0800


Started GET "/assets/static_pages.self.css?body=1" for 127.0.0.1 at 2015-11-02 15:29:58 +0800


Started GET "/assets/custom.self.css?body=1" for 127.0.0.1 at 2015-11-02 15:29:58 +0800


Started GET "/assets/jquery_ujs.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:29:58 +0800


Started GET "/assets/components.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:29:58 +0800


Started GET "/assets/development/react.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:29:58 +0800


Started GET "/assets/bootstrap/modal.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:29:58 +0800


Started GET "/assets/react_ujs.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:29:58 +0800


Started GET "/assets/application.self.css?body=1" for 127.0.0.1 at 2015-11-02 15:29:58 +0800


Started GET "/assets/jquery.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:29:58 +0800


Started GET "/assets/boms.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:29:58 +0800


Started GET "/assets/bom_item.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:29:58 +0800


Started GET "/assets/static_pages/about.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:29:58 +0800


Started GET "/assets/static_pages.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:29:58 +0800


Started GET "/assets/application.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:29:58 +0800


Started GET "/" for 127.0.0.1 at 2015-11-02 15:29:59 +0800
Processing by BomsController#upload as HTML
  Rendered boms/upload.html.erb within layouts/application (0.7ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 103ms (Views: 102.9ms | ActiveRecord: 0.0ms)


Started GET "/assets/bom_item.self.css?body=1" for 127.0.0.1 at 2015-11-02 15:29:59 +0800


Started GET "/assets/boms.self.css?body=1" for 127.0.0.1 at 2015-11-02 15:29:59 +0800


Started GET "/assets/custom.self.css?body=1" for 127.0.0.1 at 2015-11-02 15:29:59 +0800


Started GET "/assets/application.self.css?body=1" for 127.0.0.1 at 2015-11-02 15:29:59 +0800


Started GET "/assets/static_pages.self.css?body=1" for 127.0.0.1 at 2015-11-02 15:29:59 +0800


Started GET "/assets/jquery.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:29:59 +0800


Started GET "/assets/turbolinks.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:29:59 +0800


Started GET "/assets/jquery_ujs.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:29:59 +0800


Started GET "/assets/react_ujs.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:29:59 +0800


Started GET "/assets/static_pages.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:29:59 +0800


Started GET "/assets/bom_item.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:29:59 +0800


Started GET "/assets/bootstrap/modal.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:29:59 +0800


Started GET "/assets/development/react.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:29:59 +0800


Started GET "/assets/boms.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:29:59 +0800


Started GET "/assets/components.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:29:59 +0800


Started GET "/assets/static_pages/about.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:29:59 +0800


Started GET "/assets/application.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:29:59 +0800


Started GET "/" for 127.0.0.1 at 2015-11-02 15:30:00 +0800
Processing by BomsController#upload as HTML
  Rendered boms/upload.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 120ms (Views: 119.1ms | ActiveRecord: 0.0ms)


Started GET "/assets/bom_item.self.css?body=1" for 127.0.0.1 at 2015-11-02 15:30:00 +0800


Started GET "/assets/boms.self.css?body=1" for 127.0.0.1 at 2015-11-02 15:30:00 +0800


Started GET "/assets/custom.self.css?body=1" for 127.0.0.1 at 2015-11-02 15:30:00 +0800


Started GET "/assets/static_pages.self.css?body=1" for 127.0.0.1 at 2015-11-02 15:30:00 +0800


Started GET "/assets/application.self.css?body=1" for 127.0.0.1 at 2015-11-02 15:30:00 +0800


Started GET "/assets/components.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:00 +0800


Started GET "/assets/jquery.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:00 +0800


Started GET "/assets/turbolinks.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:00 +0800


Started GET "/assets/development/react.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:00 +0800


Started GET "/assets/jquery_ujs.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:00 +0800


Started GET "/assets/react_ujs.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:00 +0800


Started GET "/assets/bootstrap/modal.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:00 +0800


Started GET "/assets/bom_item.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:00 +0800


Started GET "/assets/static_pages.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:00 +0800


Started GET "/assets/boms.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:00 +0800


Started GET "/assets/static_pages/about.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:00 +0800


Started GET "/assets/application.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:00 +0800


Started GET "/" for 127.0.0.1 at 2015-11-02 15:30:01 +0800
Processing by BomsController#upload as HTML
  Rendered boms/upload.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 117ms (Views: 116.7ms | ActiveRecord: 0.0ms)


Started GET "/assets/bom_item.self.css?body=1" for 127.0.0.1 at 2015-11-02 15:30:01 +0800


Started GET "/assets/boms.self.css?body=1" for 127.0.0.1 at 2015-11-02 15:30:01 +0800


Started GET "/assets/custom.self.css?body=1" for 127.0.0.1 at 2015-11-02 15:30:01 +0800


Started GET "/assets/application.self.css?body=1" for 127.0.0.1 at 2015-11-02 15:30:01 +0800


Started GET "/assets/react_ujs.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:01 +0800


Started GET "/assets/jquery.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:01 +0800


Started GET "/assets/jquery_ujs.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:01 +0800


Started GET "/assets/turbolinks.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:02 +0800


Started GET "/assets/static_pages.self.css?body=1" for 127.0.0.1 at 2015-11-02 15:30:02 +0800


Started GET "/assets/development/react.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:02 +0800


Started GET "/assets/static_pages/about.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:02 +0800


Started GET "/assets/bootstrap/modal.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:02 +0800


Started GET "/assets/components.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:02 +0800


Started GET "/assets/static_pages.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:02 +0800


Started GET "/assets/bom_item.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:02 +0800


Started GET "/assets/boms.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:02 +0800


Started GET "/assets/application.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:02 +0800


Started GET "/" for 127.0.0.1 at 2015-11-02 15:30:03 +0800
Processing by BomsController#upload as HTML
  Rendered boms/upload.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 111ms (Views: 110.8ms | ActiveRecord: 0.0ms)


Started GET "/assets/bom_item.self.css?body=1" for 127.0.0.1 at 2015-11-02 15:30:03 +0800


Started GET "/assets/boms.self.css?body=1" for 127.0.0.1 at 2015-11-02 15:30:03 +0800


Started GET "/assets/static_pages.self.css?body=1" for 127.0.0.1 at 2015-11-02 15:30:03 +0800


Started GET "/assets/development/react.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:03 +0800


Started GET "/assets/application.self.css?body=1" for 127.0.0.1 at 2015-11-02 15:30:03 +0800


Started GET "/assets/jquery.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:03 +0800


Started GET "/assets/turbolinks.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:03 +0800


Started GET "/assets/custom.self.css?body=1" for 127.0.0.1 at 2015-11-02 15:30:03 +0800


Started GET "/assets/jquery_ujs.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:03 +0800


Started GET "/assets/react_ujs.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:03 +0800


Started GET "/assets/components.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:03 +0800


Started GET "/assets/bootstrap/modal.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:03 +0800


Started GET "/assets/bom_item.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:03 +0800


Started GET "/assets/application.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:03 +0800


Started GET "/assets/boms.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:03 +0800


Started GET "/assets/static_pages.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:03 +0800


Started GET "/assets/static_pages/about.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:03 +0800


Started GET "/" for 127.0.0.1 at 2015-11-02 15:30:04 +0800
Processing by BomsController#upload as HTML
  Rendered boms/upload.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 107ms (Views: 106.1ms | ActiveRecord: 0.0ms)


Started GET "/assets/boms.self.css?body=1" for 127.0.0.1 at 2015-11-02 15:30:04 +0800


Started GET "/assets/bom_item.self.css?body=1" for 127.0.0.1 at 2015-11-02 15:30:04 +0800


Started GET "/assets/custom.self.css?body=1" for 127.0.0.1 at 2015-11-02 15:30:04 +0800


Started GET "/assets/static_pages.self.css?body=1" for 127.0.0.1 at 2015-11-02 15:30:04 +0800


Started GET "/assets/jquery.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:04 +0800


Started GET "/assets/application.self.css?body=1" for 127.0.0.1 at 2015-11-02 15:30:04 +0800


Started GET "/assets/development/react.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:04 +0800


Started GET "/assets/turbolinks.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:04 +0800


Started GET "/assets/react_ujs.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:04 +0800


Started GET "/assets/components.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:04 +0800


Started GET "/assets/jquery_ujs.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:04 +0800


Started GET "/assets/bootstrap/modal.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:04 +0800


Started GET "/assets/boms.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:04 +0800


Started GET "/assets/bom_item.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:04 +0800


Started GET "/assets/static_pages.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:04 +0800


Started GET "/assets/static_pages/about.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:04 +0800


Started GET "/assets/application.self.js?body=1" for 127.0.0.1 at 2015-11-02 15:30:04 +0800


Started GET "/boms" for 127.0.0.1 at 2015-11-02 15:32:22 +0800
Processing by BomsController#index as HTML
  [1m[35mBom Load (0.5ms)[0m  SELECT `boms`.* FROM `boms`
  Rendered boms/index.html.erb within layouts/application (3.6ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_flash_messages.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.3ms)
  Rendered layouts/_google_analytics.html.erb (0.3ms)
Completed 200 OK in 123ms (Views: 122.4ms | ActiveRecord: 0.5ms)


Started GET "/about" for 127.0.0.1 at 2015-11-02 15:32:27 +0800
Processing by StaticPagesController#about as HTML
  Rendered static_pages/about.html.erb within layouts/application (0.7ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 130ms (Views: 129.4ms | ActiveRecord: 0.0ms)


Started GET "/boms" for 127.0.0.1 at 2015-11-02 15:32:28 +0800
Processing by BomsController#index as HTML
  [1m[36mBom Load (0.3ms)[0m  [1mSELECT `boms`.* FROM `boms`[0m
  Rendered boms/index.html.erb within layouts/application (2.8ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 130ms (Views: 128.6ms | ActiveRecord: 0.3ms)


Started GET "/contact" for 127.0.0.1 at 2015-11-02 15:32:31 +0800
Processing by StaticPagesController#contact as HTML
  Rendered static_pages/contact.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.1ms)
Completed 200 OK in 107ms (Views: 106.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2015-11-02 15:32:36 +0800
Processing by BomsController#upload as HTML
  Rendered boms/upload.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 108ms (Views: 107.5ms | ActiveRecord: 0.0ms)


Started GET "/boms" for 127.0.0.1 at 2015-11-02 15:49:16 +0800
Processing by BomsController#index as HTML
  [1m[35mBom Load (0.2ms)[0m  SELECT `boms`.* FROM `boms`
  Rendered boms/index.html.erb within layouts/application (2.2ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 121ms (Views: 120.5ms | ActiveRecord: 0.2ms)


Started GET "/about" for 127.0.0.1 at 2015-11-02 15:49:18 +0800
Processing by StaticPagesController#about as HTML
  Rendered static_pages/about.html.erb within layouts/application (0.1ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 101ms (Views: 100.2ms | ActiveRecord: 0.0ms)


Started GET "/contact" for 127.0.0.1 at 2015-11-02 15:49:19 +0800
Processing by StaticPagesController#contact as HTML
  Rendered static_pages/contact.html.erb within layouts/application (0.1ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.1ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 104ms (Views: 103.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2015-11-02 15:49:21 +0800
Processing by BomsController#upload as HTML
  Rendered boms/upload.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 119ms (Views: 118.6ms | ActiveRecord: 0.0ms)


Started GET "/boms" for 127.0.0.1 at 2015-11-02 15:50:04 +0800
Processing by BomsController#index as HTML
  [1m[36mBom Load (0.3ms)[0m  [1mSELECT `boms`.* FROM `boms`[0m
  Rendered boms/index.html.erb within layouts/application (2.3ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 115ms (Views: 113.7ms | ActiveRecord: 0.3ms)


Started GET "/about" for 127.0.0.1 at 2015-11-02 15:50:05 +0800
Processing by StaticPagesController#about as HTML
  Rendered static_pages/about.html.erb within layouts/application (0.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 131ms (Views: 130.3ms | ActiveRecord: 0.0ms)


Started GET "/contact" for 127.0.0.1 at 2015-11-02 15:50:06 +0800
Processing by StaticPagesController#contact as HTML
  Rendered static_pages/contact.html.erb within layouts/application (0.0ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 129ms (Views: 128.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2015-11-02 15:50:06 +0800
Processing by BomsController#upload as HTML
  Rendered boms/upload.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 119ms (Views: 118.1ms | ActiveRecord: 0.0ms)


Started GET "/boms" for 127.0.0.1 at 2015-11-02 15:50:19 +0800
Processing by BomsController#index as HTML
  [1m[35mBom Load (0.2ms)[0m  SELECT `boms`.* FROM `boms`
  Rendered boms/index.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 106ms (Views: 105.3ms | ActiveRecord: 0.2ms)


Started GET "/about" for 127.0.0.1 at 2015-11-02 15:50:19 +0800
Processing by StaticPagesController#about as HTML
  Rendered static_pages/about.html.erb within layouts/application (0.2ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 116ms (Views: 115.3ms | ActiveRecord: 0.0ms)


Started GET "/contact" for 127.0.0.1 at 2015-11-02 15:50:20 +0800
Processing by StaticPagesController#contact as HTML
  Rendered static_pages/contact.html.erb within layouts/application (0.0ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 122ms (Views: 121.5ms | ActiveRecord: 0.0ms)


Started GET "/boms" for 127.0.0.1 at 2015-11-02 15:50:24 +0800
Processing by BomsController#index as HTML
  [1m[36mBom Load (0.3ms)[0m  [1mSELECT `boms`.* FROM `boms`[0m
  Rendered boms/index.html.erb within layouts/application (2.6ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 117ms (Views: 116.2ms | ActiveRecord: 0.3ms)


Started GET "/boms/228" for 127.0.0.1 at 2015-11-02 15:50:25 +0800
Processing by BomsController#show as HTML
  Parameters: {"id"=>"228"}
  [1m[35mBom Load (24.9ms)[0m  SELECT  `boms`.* FROM `boms` WHERE `boms`.`id` = ? LIMIT 1  [["id", 228]]
  [1m[36mBomItem Load (0.4ms)[0m  [1mSELECT `bom_items`.* FROM `bom_items` WHERE `bom_items`.`bom_id` = ?[0m  [["bom_id", 228]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `bom_items` WHERE `bom_items`.`bom_id` = ?  [["bom_id", 228]]
  Rendered boms/show.html.erb within layouts/application (139.6ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 397ms (Views: 267.1ms | ActiveRecord: 26.4ms)


Started GET "/" for 127.0.0.1 at 2015-11-02 15:54:14 +0800
Processing by BomsController#upload as HTML
  Rendered boms/upload.html.erb within layouts/application (0.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 104ms (Views: 103.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2015-11-02 15:57:24 +0800
Processing by BomsController#upload as HTML
  Rendered boms/upload.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.1ms)
Completed 200 OK in 104ms (Views: 103.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2015-11-02 15:57:25 +0800
Processing by BomsController#upload as HTML
  Rendered boms/upload.html.erb within layouts/application (0.7ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.1ms)
Completed 200 OK in 141ms (Views: 140.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2015-11-02 15:57:25 +0800
Processing by BomsController#upload as HTML
  Rendered boms/upload.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 120ms (Views: 119.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2015-11-02 15:57:26 +0800
Processing by BomsController#upload as HTML
  Rendered boms/upload.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 129ms (Views: 128.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2015-11-02 15:57:27 +0800
Processing by BomsController#upload as HTML
  Rendered boms/upload.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 114ms (Views: 113.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2015-11-02 15:57:27 +0800
Processing by BomsController#upload as HTML
  Rendered boms/upload.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 123ms (Views: 121.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2015-11-02 15:58:15 +0800
Processing by BomsController#upload as HTML
  Rendered boms/upload.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 112ms (Views: 111.4ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2015-11-02 15:58:16 +0800
Processing by BomsController#upload as HTML
  Rendered boms/upload.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 128ms (Views: 127.4ms | ActiveRecord: 0.0ms)


Started GET "/boms" for 127.0.0.1 at 2015-11-02 15:58:17 +0800
Processing by BomsController#index as HTML
  [1m[36mBom Load (0.3ms)[0m  [1mSELECT `boms`.* FROM `boms`[0m
  Rendered boms/index.html.erb within layouts/application (2.5ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 119ms (Views: 118.1ms | ActiveRecord: 0.3ms)


Started GET "/about" for 127.0.0.1 at 2015-11-02 15:58:17 +0800
Processing by StaticPagesController#about as HTML
  Rendered static_pages/about.html.erb within layouts/application (0.2ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 127ms (Views: 126.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2015-11-02 15:58:18 +0800
Processing by BomsController#upload as HTML
  Rendered boms/upload.html.erb within layouts/application (0.7ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 105ms (Views: 104.5ms | ActiveRecord: 0.0ms)


Started GET "/about" for 127.0.0.1 at 2015-11-02 16:05:21 +0800
Processing by StaticPagesController#about as HTML
  Rendered static_pages/about.html.erb within layouts/application (0.1ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 97ms (Views: 96.2ms | ActiveRecord: 0.0ms)


Started GET "/boms" for 127.0.0.1 at 2015-11-02 16:05:22 +0800
Processing by BomsController#index as HTML
  [1m[35mBom Load (0.3ms)[0m  SELECT `boms`.* FROM `boms`
  Rendered boms/index.html.erb within layouts/application (2.2ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 130ms (Views: 129.3ms | ActiveRecord: 0.3ms)


Started GET "/boms/228" for 127.0.0.1 at 2015-11-02 16:05:23 +0800
Processing by BomsController#show as HTML
  Parameters: {"id"=>"228"}
  [1m[36mBom Load (0.3ms)[0m  [1mSELECT  `boms`.* FROM `boms` WHERE `boms`.`id` = ? LIMIT 1[0m  [["id", 228]]
  [1m[35mBomItem Load (0.1ms)[0m  SELECT `bom_items`.* FROM `bom_items` WHERE `bom_items`.`bom_id` = ?  [["bom_id", 228]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `bom_items` WHERE `bom_items`.`bom_id` = ?[0m  [["bom_id", 228]]
  Rendered boms/show.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 110ms (Views: 106.4ms | ActiveRecord: 0.6ms)


Started GET "/boms/228.xls" for 127.0.0.1 at 2015-11-02 16:05:25 +0800
Processing by BomsController#show as XLS
  Parameters: {"id"=>"228"}
  [1m[35mBom Load (0.3ms)[0m  SELECT  `boms`.* FROM `boms` WHERE `boms`.`id` = ? LIMIT 1  [["id", 228]]
  [1m[36mBomItem Load (0.2ms)[0m  [1mSELECT `bom_items`.* FROM `bom_items` WHERE `bom_items`.`bom_id` = ?[0m  [["bom_id", 228]]
  Rendered text template (0.0ms)
Sent data 0610test.xls (44.0ms)
Completed 200 OK in 135ms (Views: 43.8ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2015-11-02 16:05:53 +0800
Processing by BomsController#upload as HTML
  Rendered boms/upload.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 125ms (Views: 123.8ms | ActiveRecord: 0.0ms)


Started GET "/contact" for 127.0.0.1 at 2015-11-02 16:11:36 +0800
Processing by StaticPagesController#contact as HTML
  Rendered static_pages/contact.html.erb within layouts/application (0.1ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 120ms (Views: 119.3ms | ActiveRecord: 0.0ms)


Started GET "/about" for 127.0.0.1 at 2015-11-02 16:11:50 +0800
Processing by StaticPagesController#about as HTML
  Rendered static_pages/about.html.erb within layouts/application (0.1ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 101ms (Views: 100.8ms | ActiveRecord: 0.0ms)


Started GET "/about" for 127.0.0.1 at 2015-11-02 16:12:01 +0800
Processing by StaticPagesController#about as HTML
  Rendered static_pages/about.html.erb within layouts/application (0.1ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.1ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 134ms (Views: 133.1ms | ActiveRecord: 0.0ms)


Started GET "/boms" for 127.0.0.1 at 2015-11-02 16:12:02 +0800
Processing by BomsController#index as HTML
  [1m[35mBom Load (0.3ms)[0m  SELECT `boms`.* FROM `boms`
  Rendered boms/index.html.erb within layouts/application (2.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 118ms (Views: 117.1ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2015-11-02 16:12:13 +0800
Processing by BomsController#upload as HTML
  Rendered boms/upload.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 104ms (Views: 103.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2015-11-02 16:12:22 +0800
Processing by BomsController#upload as HTML
  Rendered boms/upload.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 109ms (Views: 108.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2015-11-02 16:12:23 +0800
Processing by BomsController#upload as HTML
  Rendered boms/upload.html.erb within layouts/application (0.7ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 116ms (Views: 115.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2015-11-02 16:12:24 +0800
Processing by BomsController#upload as HTML
  Rendered boms/upload.html.erb within layouts/application (0.7ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 128ms (Views: 127.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2015-11-02 16:12:24 +0800
Processing by BomsController#upload as HTML
  Rendered boms/upload.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 122ms (Views: 120.8ms | ActiveRecord: 0.0ms)


Started GET "/boms" for 127.0.0.1 at 2015-11-02 16:12:25 +0800
Processing by BomsController#index as HTML
  [1m[36mBom Load (0.3ms)[0m  [1mSELECT `boms`.* FROM `boms`[0m
  Rendered boms/index.html.erb within layouts/application (2.3ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 118ms (Views: 117.0ms | ActiveRecord: 0.3ms)


Started GET "/boms/229" for 127.0.0.1 at 2015-11-02 16:12:30 +0800
Processing by BomsController#show as HTML
  Parameters: {"id"=>"229"}
  [1m[35mBom Load (0.3ms)[0m  SELECT  `boms`.* FROM `boms` WHERE `boms`.`id` = ? LIMIT 1  [["id", 229]]
  [1m[36mBomItem Load (0.3ms)[0m  [1mSELECT `bom_items`.* FROM `bom_items` WHERE `bom_items`.`bom_id` = ?[0m  [["bom_id", 229]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `bom_items` WHERE `bom_items`.`bom_id` = ?  [["bom_id", 229]]
  Rendered boms/show.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 107ms (Views: 103.4ms | ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2015-11-02 16:23:05 +0800
Processing by BomsController#upload as HTML
  Rendered boms/upload.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 119ms (Views: 118.7ms | ActiveRecord: 0.0ms)


Started GET "/boms" for 127.0.0.1 at 2015-11-02 16:23:06 +0800
Processing by BomsController#index as HTML
  [1m[36mBom Load (0.2ms)[0m  [1mSELECT `boms`.* FROM `boms`[0m
  Rendered boms/index.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 110ms (Views: 109.2ms | ActiveRecord: 0.2ms)


Started GET "/about" for 127.0.0.1 at 2015-11-02 16:23:10 +0800
Processing by StaticPagesController#about as HTML
  Rendered static_pages/about.html.erb within layouts/application (0.2ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 125ms (Views: 124.4ms | ActiveRecord: 0.0ms)


Started GET "/contact" for 127.0.0.1 at 2015-11-02 16:23:12 +0800
Processing by StaticPagesController#contact as HTML
  Rendered static_pages/contact.html.erb within layouts/application (0.0ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 123ms (Views: 122.4ms | ActiveRecord: 0.0ms)


Started GET "/about" for 127.0.0.1 at 2015-11-02 16:23:12 +0800
Processing by StaticPagesController#about as HTML
  Rendered static_pages/about.html.erb within layouts/application (0.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 142ms (Views: 141.8ms | ActiveRecord: 0.0ms)


Started GET "/boms" for 127.0.0.1 at 2015-11-02 16:23:13 +0800
Processing by BomsController#index as HTML
  [1m[35mBom Load (0.3ms)[0m  SELECT `boms`.* FROM `boms`
  Rendered boms/index.html.erb within layouts/application (2.3ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.1ms)
Completed 200 OK in 111ms (Views: 109.9ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2015-11-02 16:23:13 +0800
Processing by BomsController#upload as HTML
  Rendered boms/upload.html.erb within layouts/application (0.7ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 114ms (Views: 113.5ms | ActiveRecord: 0.0ms)


Started GET "/boms" for 127.0.0.1 at 2015-11-02 16:23:14 +0800
Processing by BomsController#index as HTML
  [1m[36mBom Load (0.2ms)[0m  [1mSELECT `boms`.* FROM `boms`[0m
  Rendered boms/index.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 117ms (Views: 116.2ms | ActiveRecord: 0.2ms)


Started GET "/about" for 127.0.0.1 at 2015-11-02 16:23:16 +0800
Processing by StaticPagesController#about as HTML
  Rendered static_pages/about.html.erb within layouts/application (0.2ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 109ms (Views: 108.6ms | ActiveRecord: 0.0ms)


Started GET "/contact" for 127.0.0.1 at 2015-11-02 16:23:17 +0800
Processing by StaticPagesController#contact as HTML
  Rendered static_pages/contact.html.erb within layouts/application (0.0ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 124ms (Views: 123.7ms | ActiveRecord: 0.0ms)


Started GET "/boms" for 127.0.0.1 at 2015-11-02 16:23:18 +0800
Processing by BomsController#index as HTML
  [1m[35mBom Load (0.3ms)[0m  SELECT `boms`.* FROM `boms`
  Rendered boms/index.html.erb within layouts/application (2.2ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 116ms (Views: 115.2ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2015-11-02 16:23:20 +0800
Processing by BomsController#upload as HTML
  Rendered boms/upload.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 105ms (Views: 104.7ms | ActiveRecord: 0.0ms)


Started GET "/boms" for 127.0.0.1 at 2015-11-02 16:23:21 +0800
Processing by BomsController#index as HTML
  [1m[36mBom Load (0.3ms)[0m  [1mSELECT `boms`.* FROM `boms`[0m
  Rendered boms/index.html.erb within layouts/application (2.2ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 129ms (Views: 128.0ms | ActiveRecord: 0.3ms)


Started GET "/uploads/bom/excel_file/229/test.xls" for 127.0.0.1 at 2015-11-02 16:23:26 +0800

ActionController::RoutingError (No route matches [GET] "/uploads/bom/excel_file/229/test.xls"):
  actionpack (4.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.2.1) lib/web_console/middleware.rb:39:in `call'
  actionpack (4.2.1) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.1) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.1) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.1) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.1) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.1) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.1) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.1) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.4) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.4) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.1) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.4) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.1) lib/rails/engine.rb:518:in `call'
  railties (4.2.1) lib/rails/application.rb:164:in `call'
  rack (1.6.4) lib/rack/content_length.rb:15:in `call'
  puma (2.12.2) lib/puma/server.rb:539:in `handle_request'
  puma (2.12.2) lib/puma/server.rb:386:in `process_client'
  puma (2.12.2) lib/puma/server.rb:269:in `block in run'
  puma (2.12.2) lib/puma/thread_pool.rb:106:in `call'
  puma (2.12.2) lib/puma/thread_pool.rb:106:in `block in spawn_thread'


  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.4ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/routes/_route.html.erb (0.5ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/routes/_table.html.erb (4.8ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (42.1ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (15.7ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (44.6ms)


Started GET "/uploads/bom/excel_file/228/0610test.xls" for 127.0.0.1 at 2015-11-02 16:23:47 +0800

ActionController::RoutingError (No route matches [GET] "/uploads/bom/excel_file/228/0610test.xls"):
  actionpack (4.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.2.1) lib/web_console/middleware.rb:39:in `call'
  actionpack (4.2.1) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.1) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.1) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.1) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.1) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.1) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.1) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.1) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.4) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.4) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.1) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.4) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.1) lib/rails/engine.rb:518:in `call'
  railties (4.2.1) lib/rails/application.rb:164:in `call'
  rack (1.6.4) lib/rack/content_length.rb:15:in `call'
  puma (2.12.2) lib/puma/server.rb:539:in `handle_request'
  puma (2.12.2) lib/puma/server.rb:386:in `process_client'
  puma (2.12.2) lib/puma/server.rb:269:in `block in run'
  puma (2.12.2) lib/puma/thread_pool.rb:106:in `call'
  puma (2.12.2) lib/puma/thread_pool.rb:106:in `block in spawn_thread'


  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.3ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/routes/_route.html.erb (0.6ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.3ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (32.3ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (14.1ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (26.9ms)


Started GET "/boms/228" for 127.0.0.1 at 2015-11-02 16:23:51 +0800
Processing by BomsController#show as HTML
  Parameters: {"id"=>"228"}
  [1m[35mBom Load (0.2ms)[0m  SELECT  `boms`.* FROM `boms` WHERE `boms`.`id` = ? LIMIT 1  [["id", 228]]
  [1m[36mBomItem Load (0.2ms)[0m  [1mSELECT `bom_items`.* FROM `bom_items` WHERE `bom_items`.`bom_id` = ?[0m  [["bom_id", 228]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `bom_items` WHERE `bom_items`.`bom_id` = ?  [["bom_id", 228]]
  Rendered boms/show.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 104ms (Views: 100.7ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2015-11-02 16:39:35 +0800
Processing by BomsController#upload as HTML
  Rendered boms/upload.html.erb within layouts/application (0.7ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 103ms (Views: 102.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2015-11-02 16:39:39 +0800
Processing by BomsController#upload as HTML
  Rendered boms/upload.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 105ms (Views: 103.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2015-11-03 09:11:02 +0800
Processing by BomsController#upload as HTML
  Rendered boms/upload.html.erb within layouts/application (52.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 632ms (Views: 505.5ms | ActiveRecord: 0.0ms)


Started GET "/assets/bom_item.self.css?body=1" for 127.0.0.1 at 2015-11-03 09:11:03 +0800


Started GET "/assets/boms.self.css?body=1" for 127.0.0.1 at 2015-11-03 09:11:03 +0800


Started GET "/assets/custom.self.css?body=1" for 127.0.0.1 at 2015-11-03 09:11:03 +0800


Started GET "/assets/static_pages.self.css?body=1" for 127.0.0.1 at 2015-11-03 09:11:03 +0800


Started GET "/assets/application.self.css?body=1" for 127.0.0.1 at 2015-11-03 09:11:03 +0800


Started GET "/assets/jquery.self.js?body=1" for 127.0.0.1 at 2015-11-03 09:11:03 +0800


Started GET "/assets/jquery_ujs.self.js?body=1" for 127.0.0.1 at 2015-11-03 09:11:03 +0800


Started GET "/assets/turbolinks.self.js?body=1" for 127.0.0.1 at 2015-11-03 09:11:04 +0800


Started GET "/assets/development/react.self.js?body=1" for 127.0.0.1 at 2015-11-03 09:11:04 +0800


Started GET "/assets/react_ujs.self.js?body=1" for 127.0.0.1 at 2015-11-03 09:11:04 +0800


Started GET "/assets/components.self.js?body=1" for 127.0.0.1 at 2015-11-03 09:11:04 +0800


Started GET "/assets/bootstrap/modal.self.js?body=1" for 127.0.0.1 at 2015-11-03 09:11:04 +0800


Started GET "/assets/bom_item.self.js?body=1" for 127.0.0.1 at 2015-11-03 09:11:04 +0800


Started GET "/assets/boms.self.js?body=1" for 127.0.0.1 at 2015-11-03 09:11:04 +0800


Started GET "/assets/static_pages.self.js?body=1" for 127.0.0.1 at 2015-11-03 09:11:04 +0800


Started GET "/assets/static_pages/about.self.js?body=1" for 127.0.0.1 at 2015-11-03 09:11:04 +0800


Started GET "/assets/application.self.js?body=1" for 127.0.0.1 at 2015-11-03 09:11:04 +0800


Started GET "/boms" for 127.0.0.1 at 2015-11-03 09:11:07 +0800
Processing by BomsController#index as HTML
  [1m[36mBom Load (52.3ms)[0m  [1mSELECT `boms`.* FROM `boms`[0m
  Rendered boms/index.html.erb within layouts/application (54.0ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 185ms (Views: 132.5ms | ActiveRecord: 52.3ms)


Started GET "/boms" for 127.0.0.1 at 2015-11-03 09:11:07 +0800
Processing by BomsController#index as HTML
  [1m[35mBom Load (0.4ms)[0m  SELECT `boms`.* FROM `boms`
  Rendered boms/index.html.erb within layouts/application (3.2ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 140ms (Views: 138.7ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2015-11-03 09:11:09 +0800
Processing by BomsController#upload as HTML
  Rendered boms/upload.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 130ms (Views: 129.2ms | ActiveRecord: 0.0ms)


Started POST "/boms" for 127.0.0.1 at 2015-11-03 10:06:35 +0800
Processing by BomsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"8bnxYkmhBgq5N8WI3ajie0q9MJbs49eK2Mro259vNQG6x45H1/ogHNDxeWxvyoobX/6bbSkCgmkAJpB4OhnKnA==", "commit"=>"上传"}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms)

ActionController::ParameterMissing (param is missing or the value is empty: bom):
  app/controllers/boms_controller.rb:174:in `bom_params'
  app/controllers/boms_controller.rb:103:in `create'


  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.0ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (22.9ms)
Cannot render console with content type multipart/form-dataAllowed content types: [#<Mime::Type:0x00000004c14388 @synonyms=["application/xhtml+xml"], @symbol=:html, @string="text/html">, #<Mime::Type:0x00000004c15800 @synonyms=[], @symbol=:text, @string="text/plain">, #<Mime::Type:0x00000004c0ba80 @synonyms=[], @symbol=:url_encoded_form, @string="application/x-www-form-urlencoded">]


Started POST "/boms" for 127.0.0.1 at 2015-11-03 10:06:47 +0800
Processing by BomsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"8bnxYkmhBgq5N8WI3ajie0q9MJbs49eK2Mro259vNQG6x45H1/ogHNDxeWxvyoobX/6bbSkCgmkAJpB4OhnKnA==", "bom"=>{"excel_file"=>#<ActionDispatch::Http::UploadedFile:0x007f3442c4e708 @tempfile=#<Tempfile:/tmp/RackMultipart20151103-16358-x5q5ku.ods>, @original_filename="未命名 1.ods", @content_type="application/vnd.oasis.opendocument.spreadsheet", @headers="Content-Disposition: form-data; name=\"bom[excel_file]\"; filename=\"\xE6\x9C\xAA\xE5\x91\xBD\xE5\x90\x8D 1.ods\"\r\nContent-Type: application/vnd.oasis.opendocument.spreadsheet\r\n">}, "commit"=>"上传"}
  [1m[36mSQL (99.3ms)[0m  [1mBEGIN[0m
  [1m[35m (9.8ms)[0m  ROLLBACK
Redirected to http://localhost:3000/?notice=%E6%96%87%E4%BB%B6++%E4%B8%8A%E4%BC%A0%E5%A4%B1%E8%B4%A5%EF%BC%8C%E8%AF%B7%E9%87%8D%E6%96%B0%E4%B8%8A%E4%BC%A0%E3%80%82
Completed 302 Found in 115ms (ActiveRecord: 109.1ms)


Started GET "/?notice=%E6%96%87%E4%BB%B6++%E4%B8%8A%E4%BC%A0%E5%A4%B1%E8%B4%A5%EF%BC%8C%E8%AF%B7%E9%87%8D%E6%96%B0%E4%B8%8A%E4%BC%A0%E3%80%82" for 127.0.0.1 at 2015-11-03 10:06:47 +0800
Processing by BomsController#upload as HTML
  Parameters: {"notice"=>"文件  上传失败，请重新上传。"}
  Rendered boms/upload.html.erb within layouts/application (0.7ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.1ms)
Completed 200 OK in 160ms (Views: 159.5ms | ActiveRecord: 0.0ms)


Started GET "/assets/bom_item.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:06:47 +0800


Started GET "/assets/custom.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:06:47 +0800


Started GET "/assets/boms.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:06:47 +0800


Started GET "/assets/static_pages.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:06:47 +0800


Started GET "/assets/jquery_ujs.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:06:47 +0800


Started GET "/assets/jquery.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:06:47 +0800


Started GET "/assets/bootstrap/modal.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:06:47 +0800


Started GET "/assets/turbolinks.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:06:47 +0800


Started GET "/assets/development/react.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:06:47 +0800


Started GET "/assets/static_pages.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:06:47 +0800


Started GET "/assets/components.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:06:47 +0800


Started GET "/assets/react_ujs.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:06:47 +0800


Started GET "/assets/bom_item.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:06:47 +0800


Started GET "/assets/boms.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:06:47 +0800


Started GET "/assets/application.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:06:47 +0800


Started GET "/assets/static_pages/about.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:06:47 +0800


Started GET "/assets/application.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:06:47 +0800


Started POST "/boms" for 127.0.0.1 at 2015-11-03 10:09:13 +0800
Processing by BomsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Ehmd69wegkwxgWFrTo/GvFTNJUuLQWytZm8R3X3OhUxZZ+LOQkWkWlhH3Y/87a7cQY6OsE6gOU6+g2l+2Lh60Q==", "bom"=>{"excel_file"=>#<ActionDispatch::Http::UploadedFile:0x007f34442d8370 @tempfile=#<Tempfile:/tmp/RackMultipart20151103-16358-u0l9l8.xls>, @original_filename="123rr.xls", @content_type="application/vnd.ms-excel", @headers="Content-Disposition: form-data; name=\"bom[excel_file]\"; filename=\"123rr.xls\"\r\nContent-Type: application/vnd.ms-excel\r\n">}, "commit"=>"上传"}
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (309.4ms)[0m  INSERT INTO `boms` (`excel_file`, `created_at`, `updated_at`) VALUES (?, ?, ?)  [["excel_file", "123rr.xls"], ["created_at", "2015-11-03 02:09:13"], ["updated_at", "2015-11-03 02:09:13"]]
  [1m[36m (86.8ms)[0m  [1mCOMMIT[0m
Completed 500 Internal Server Error in 691ms (ActiveRecord: 396.4ms)

RuntimeError (Couldn't find header row.):
  app/controllers/boms_controller.rb:110:in `create'


  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.6ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (20.1ms)
Cannot render console with content type multipart/form-dataAllowed content types: [#<Mime::Type:0x00000004c14388 @synonyms=["application/xhtml+xml"], @symbol=:html, @string="text/html">, #<Mime::Type:0x00000004c15800 @synonyms=[], @symbol=:text, @string="text/plain">, #<Mime::Type:0x00000004c0ba80 @synonyms=[], @symbol=:url_encoded_form, @string="application/x-www-form-urlencoded">]


Started POST "/boms" for 127.0.0.1 at 2015-11-03 10:09:53 +0800
Processing by BomsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Ehmd69wegkwxgWFrTo/GvFTNJUuLQWytZm8R3X3OhUxZZ+LOQkWkWlhH3Y/87a7cQY6OsE6gOU6+g2l+2Lh60Q==", "bom"=>{"excel_file"=>#<ActionDispatch::Http::UploadedFile:0x00000006fc24d8 @tempfile=#<Tempfile:/tmp/RackMultipart20151103-16358-a7audx.xls>, @original_filename="123rr.xls", @content_type="application/vnd.ms-excel", @headers="Content-Disposition: form-data; name=\"bom[excel_file]\"; filename=\"123rr.xls\"\r\nContent-Type: application/vnd.ms-excel\r\n">}, "commit"=>"上传"}
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `boms` (`excel_file`, `created_at`, `updated_at`) VALUES (?, ?, ?)[0m  [["excel_file", "123rr.xls"], ["created_at", "2015-11-03 02:09:53"], ["updated_at", "2015-11-03 02:09:53"]]
  [1m[35m (33.1ms)[0m  COMMIT
Completed 500 Internal Server Error in 61ms (ActiveRecord: 33.5ms)

RuntimeError (Couldn't find header row.):
  app/controllers/boms_controller.rb:110:in `create'


  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (14.8ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (29.5ms)
Cannot render console with content type multipart/form-dataAllowed content types: [#<Mime::Type:0x00000004c14388 @synonyms=["application/xhtml+xml"], @symbol=:html, @string="text/html">, #<Mime::Type:0x00000004c15800 @synonyms=[], @symbol=:text, @string="text/plain">, #<Mime::Type:0x00000004c0ba80 @synonyms=[], @symbol=:url_encoded_form, @string="application/x-www-form-urlencoded">]


Started POST "/boms" for 127.0.0.1 at 2015-11-03 10:10:52 +0800
Processing by BomsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Ehmd69wegkwxgWFrTo/GvFTNJUuLQWytZm8R3X3OhUxZZ+LOQkWkWlhH3Y/87a7cQY6OsE6gOU6+g2l+2Lh60Q==", "bom"=>{"excel_file"=>#<ActionDispatch::Http::UploadedFile:0x007f3442339c30 @tempfile=#<Tempfile:/tmp/RackMultipart20151103-16358-u7lab7.xls>, @original_filename="123rr.xls", @content_type="application/vnd.ms-excel", @headers="Content-Disposition: form-data; name=\"bom[excel_file]\"; filename=\"123rr.xls\"\r\nContent-Type: application/vnd.ms-excel\r\n">}, "commit"=>"上传"}
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `boms` (`excel_file`, `created_at`, `updated_at`) VALUES (?, ?, ?)  [["excel_file", "123rr.xls"], ["created_at", "2015-11-03 02:10:52"], ["updated_at", "2015-11-03 02:10:52"]]
  [1m[36m (102.7ms)[0m  [1mCOMMIT[0m
Completed 500 Internal Server Error in 125ms (ActiveRecord: 103.4ms)

RuntimeError (Couldn't find header row.):
  app/controllers/boms_controller.rb:110:in `create'


  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.4ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (19.8ms)
Cannot render console with content type multipart/form-dataAllowed content types: [#<Mime::Type:0x00000004c14388 @synonyms=["application/xhtml+xml"], @symbol=:html, @string="text/html">, #<Mime::Type:0x00000004c15800 @synonyms=[], @symbol=:text, @string="text/plain">, #<Mime::Type:0x00000004c0ba80 @synonyms=[], @symbol=:url_encoded_form, @string="application/x-www-form-urlencoded">]


Started POST "/boms" for 127.0.0.1 at 2015-11-03 10:11:24 +0800
Processing by BomsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Ehmd69wegkwxgWFrTo/GvFTNJUuLQWytZm8R3X3OhUxZZ+LOQkWkWlhH3Y/87a7cQY6OsE6gOU6+g2l+2Lh60Q==", "bom"=>{"excel_file"=>#<ActionDispatch::Http::UploadedFile:0x007f3443ebddd0 @tempfile=#<Tempfile:/tmp/RackMultipart20151103-16358-urk1l4.xls>, @original_filename="123rr.xls", @content_type="application/vnd.ms-excel", @headers="Content-Disposition: form-data; name=\"bom[excel_file]\"; filename=\"123rr.xls\"\r\nContent-Type: application/vnd.ms-excel\r\n">}, "commit"=>"上传"}
  [1m[35mSQL (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `boms` (`excel_file`, `created_at`, `updated_at`) VALUES (?, ?, ?)[0m  [["excel_file", "123rr.xls"], ["created_at", "2015-11-03 02:11:24"], ["updated_at", "2015-11-03 02:11:24"]]
  [1m[35m (106.7ms)[0m  COMMIT
Completed 500 Internal Server Error in 127ms (ActiveRecord: 107.6ms)

RuntimeError (Couldn't find header row.):
  app/controllers/boms_controller.rb:110:in `create'


  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.7ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.6ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.0ms)
Cannot render console with content type multipart/form-dataAllowed content types: [#<Mime::Type:0x00000004c14388 @synonyms=["application/xhtml+xml"], @symbol=:html, @string="text/html">, #<Mime::Type:0x00000004c15800 @synonyms=[], @symbol=:text, @string="text/plain">, #<Mime::Type:0x00000004c0ba80 @synonyms=[], @symbol=:url_encoded_form, @string="application/x-www-form-urlencoded">]


Started POST "/boms" for 127.0.0.1 at 2015-11-03 10:11:42 +0800
Processing by BomsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Ehmd69wegkwxgWFrTo/GvFTNJUuLQWytZm8R3X3OhUxZZ+LOQkWkWlhH3Y/87a7cQY6OsE6gOU6+g2l+2Lh60Q==", "bom"=>{"excel_file"=>#<ActionDispatch::Http::UploadedFile:0x007f34426921e8 @tempfile=#<Tempfile:/tmp/RackMultipart20151103-16358-1nlnvlj.xls>, @original_filename="123rr.xls", @content_type="application/vnd.ms-excel", @headers="Content-Disposition: form-data; name=\"bom[excel_file]\"; filename=\"123rr.xls\"\r\nContent-Type: application/vnd.ms-excel\r\n">}, "commit"=>"上传"}
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `boms` (`excel_file`, `created_at`, `updated_at`) VALUES (?, ?, ?)  [["excel_file", "123rr.xls"], ["created_at", "2015-11-03 02:11:42"], ["updated_at", "2015-11-03 02:11:42"]]
  [1m[36m (47.8ms)[0m  [1mCOMMIT[0m
Completed 500 Internal Server Error in 69ms (ActiveRecord: 48.1ms)

RuntimeError (Couldn't find header row.):
  app/controllers/boms_controller.rb:110:in `create'


  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.5ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (20.3ms)
Cannot render console with content type multipart/form-dataAllowed content types: [#<Mime::Type:0x00000004c14388 @synonyms=["application/xhtml+xml"], @symbol=:html, @string="text/html">, #<Mime::Type:0x00000004c15800 @synonyms=[], @symbol=:text, @string="text/plain">, #<Mime::Type:0x00000004c0ba80 @synonyms=[], @symbol=:url_encoded_form, @string="application/x-www-form-urlencoded">]


Started GET "/boms" for 127.0.0.1 at 2015-11-03 10:13:04 +0800
Processing by BomsController#index as HTML
  [1m[35mBom Load (16.8ms)[0m  SELECT `boms`.* FROM `boms`
  Rendered boms/index.html.erb within layouts/application (21.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 136ms (Views: 118.6ms | ActiveRecord: 16.8ms)


Started GET "/" for 127.0.0.1 at 2015-11-03 10:13:05 +0800
Processing by BomsController#upload as HTML
  Rendered boms/upload.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 127ms (Views: 126.1ms | ActiveRecord: 0.0ms)


Started GET "/boms" for 127.0.0.1 at 2015-11-03 10:13:06 +0800
Processing by BomsController#index as HTML
  [1m[36mBom Load (0.3ms)[0m  [1mSELECT `boms`.* FROM `boms`[0m
  Rendered boms/index.html.erb within layouts/application (5.6ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 121ms (Views: 120.6ms | ActiveRecord: 0.3ms)


Started GET "/boms/234" for 127.0.0.1 at 2015-11-03 10:13:11 +0800
Processing by BomsController#show as HTML
  Parameters: {"id"=>"234"}
  [1m[35mBom Load (0.3ms)[0m  SELECT  `boms`.* FROM `boms` WHERE `boms`.`id` = ? LIMIT 1  [["id", 234]]
  [1m[36mBomItem Load (0.2ms)[0m  [1mSELECT `bom_items`.* FROM `bom_items` WHERE `bom_items`.`bom_id` = ?[0m  [["bom_id", 234]]
  [1m[35m (7.2ms)[0m  SELECT COUNT(*) FROM `bom_items` WHERE `bom_items`.`bom_id` = ?  [["bom_id", 234]]
  Rendered boms/show.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 138ms (Views: 127.6ms | ActiveRecord: 7.8ms)


Started GET "/boms/234" for 127.0.0.1 at 2015-11-03 10:13:15 +0800
Processing by BomsController#show as HTML
  Parameters: {"id"=>"234"}
  [1m[36mBom Load (0.2ms)[0m  [1mSELECT  `boms`.* FROM `boms` WHERE `boms`.`id` = ? LIMIT 1[0m  [["id", 234]]
  [1m[35mBomItem Load (0.2ms)[0m  SELECT `bom_items`.* FROM `bom_items` WHERE `bom_items`.`bom_id` = ?  [["bom_id", 234]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `bom_items` WHERE `bom_items`.`bom_id` = ?[0m  [["bom_id", 234]]
  Rendered boms/show.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 111ms (Views: 105.2ms | ActiveRecord: 0.5ms)


Started GET "/boms/234.xls" for 127.0.0.1 at 2015-11-03 10:13:17 +0800
Processing by BomsController#show as XLS
  Parameters: {"id"=>"234"}
  [1m[35mBom Load (0.2ms)[0m  SELECT  `boms`.* FROM `boms` WHERE `boms`.`id` = ? LIMIT 1  [["id", 234]]
  [1m[36mBomItem Load (0.2ms)[0m  [1mSELECT `bom_items`.* FROM `bom_items` WHERE `bom_items`.`bom_id` = ?[0m  [["bom_id", 234]]
  Rendered text template (0.0ms)
Sent data 123rr.xls (0.5ms)
Completed 200 OK in 17ms (Views: 0.4ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2015-11-03 10:13:34 +0800
Processing by BomsController#upload as HTML
  Rendered boms/upload.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 147ms (Views: 146.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2015-11-03 10:13:38 +0800
Processing by BomsController#upload as HTML
  Rendered boms/upload.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 123ms (Views: 122.9ms | ActiveRecord: 0.0ms)


Started GET "/assets/bom_item.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:13:38 +0800


Started GET "/assets/boms.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:13:38 +0800


Started GET "/assets/custom.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:13:38 +0800


Started GET "/assets/jquery.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:13:38 +0800


Started GET "/assets/turbolinks.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:13:38 +0800


Started GET "/assets/static_pages.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:13:38 +0800


Started GET "/assets/application.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:13:38 +0800


Started GET "/assets/jquery_ujs.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:13:38 +0800


Started GET "/assets/bom_item.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:13:38 +0800


Started GET "/assets/development/react.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:13:38 +0800


Started GET "/assets/react_ujs.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:13:38 +0800


Started GET "/assets/bootstrap/modal.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:13:38 +0800


Started GET "/assets/components.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:13:38 +0800


Started GET "/assets/boms.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:13:38 +0800


Started GET "/assets/static_pages.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:13:38 +0800


Started GET "/assets/static_pages/about.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:13:38 +0800


Started GET "/assets/application.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:13:38 +0800


Started POST "/boms" for 127.0.0.1 at 2015-11-03 10:13:42 +0800
Processing by BomsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"LkjdSFWGQBzDKfsDN54Ua19XRQ3cDX6Z/7odGI20collNqJty91mCqrvR+eF/HwLShTu9hnsK3onVmW7KMKNFA==", "bom"=>{"excel_file"=>#<ActionDispatch::Http::UploadedFile:0x007f34433d8a28 @tempfile=#<Tempfile:/tmp/RackMultipart20151103-16358-vhqlrm.xls>, @original_filename="wwtest.xls", @content_type="application/vnd.ms-excel", @headers="Content-Disposition: form-data; name=\"bom[excel_file]\"; filename=\"wwtest.xls\"\r\nContent-Type: application/vnd.ms-excel\r\n">}, "commit"=>"上传"}
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mSQL (11.3ms)[0m  [1mINSERT INTO `boms` (`excel_file`, `created_at`, `updated_at`) VALUES (?, ?, ?)[0m  [["excel_file", "wwtest.xls"], ["created_at", "2015-11-03 02:13:42"], ["updated_at", "2015-11-03 02:13:42"]]
  [1m[35m (83.6ms)[0m  COMMIT
Completed 500 Internal Server Error in 114ms (ActiveRecord: 95.1ms)

RuntimeError (Couldn't find header row.):
  app/controllers/boms_controller.rb:110:in `create'


  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.8ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.6ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.1ms)
Cannot render console with content type multipart/form-dataAllowed content types: [#<Mime::Type:0x00000004c14388 @synonyms=["application/xhtml+xml"], @symbol=:html, @string="text/html">, #<Mime::Type:0x00000004c15800 @synonyms=[], @symbol=:text, @string="text/plain">, #<Mime::Type:0x00000004c0ba80 @synonyms=[], @symbol=:url_encoded_form, @string="application/x-www-form-urlencoded">]


Started GET "/boms" for 127.0.0.1 at 2015-11-03 10:14:01 +0800
Processing by BomsController#index as HTML
  [1m[36mBom Load (0.3ms)[0m  [1mSELECT `boms`.* FROM `boms`[0m
  Rendered boms/index.html.erb within layouts/application (4.7ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 114ms (Views: 113.4ms | ActiveRecord: 0.3ms)


Started GET "/boms/235" for 127.0.0.1 at 2015-11-03 10:14:18 +0800
Processing by BomsController#show as HTML
  Parameters: {"id"=>"235"}
  [1m[35mBom Load (1.5ms)[0m  SELECT  `boms`.* FROM `boms` WHERE `boms`.`id` = ? LIMIT 1  [["id", 235]]
  [1m[36mBomItem Load (0.4ms)[0m  [1mSELECT `bom_items`.* FROM `bom_items` WHERE `bom_items`.`bom_id` = ?[0m  [["bom_id", 235]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `bom_items` WHERE `bom_items`.`bom_id` = ?  [["bom_id", 235]]
  Rendered boms/show.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.1ms)
Completed 200 OK in 117ms (Views: 107.1ms | ActiveRecord: 2.5ms)


Started DELETE "/boms/229" for 127.0.0.1 at 2015-11-03 10:14:32 +0800
Processing by BomsController#destroy as HTML
  Parameters: {"authenticity_token"=>"BcD2WoWvgA4WCQtMl3lJq3q/XM+Zooe87Q5pYPyXmjNOvol/G/SmGH/Pt6glGyHLb/z3NFxD0l814hHDWeFlrg==", "id"=>"229"}
  [1m[36mBom Load (0.3ms)[0m  [1mSELECT  `boms`.* FROM `boms` WHERE `boms`.`id` = ? LIMIT 1[0m  [["id", 229]]
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mBomItem Load (0.2ms)[0m  [1mSELECT `bom_items`.* FROM `bom_items` WHERE `bom_items`.`bom_id` = ?[0m  [["bom_id", 229]]
  [1m[35mSQL (45.0ms)[0m  DELETE FROM `boms` WHERE `boms`.`id` = ?  [["id", 229]]
  [1m[36m (56.4ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/boms
Completed 302 Found in 106ms (ActiveRecord: 102.0ms)


Started GET "/boms" for 127.0.0.1 at 2015-11-03 10:14:32 +0800
Processing by BomsController#index as HTML
  [1m[35mBom Load (0.4ms)[0m  SELECT `boms`.* FROM `boms`
  Rendered boms/index.html.erb within layouts/application (5.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 136ms (Views: 135.3ms | ActiveRecord: 0.4ms)


Started GET "/assets/bom_item.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:14:33 +0800


Started GET "/assets/boms.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:14:33 +0800


Started GET "/assets/application.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:14:33 +0800


Started GET "/assets/turbolinks.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:33 +0800


Started GET "/assets/static_pages.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:14:33 +0800


Started GET "/assets/jquery.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:33 +0800


Started GET "/assets/jquery_ujs.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:33 +0800


Started GET "/assets/custom.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:14:33 +0800


Started GET "/assets/development/react.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:33 +0800


Started GET "/assets/react_ujs.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:33 +0800


Started GET "/assets/components.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:33 +0800


Started GET "/assets/bom_item.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:33 +0800


Started GET "/assets/bootstrap/modal.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:33 +0800


Started GET "/assets/boms.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:33 +0800


Started GET "/assets/static_pages.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:33 +0800


Started GET "/assets/application.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:33 +0800


Started GET "/assets/static_pages/about.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:33 +0800


Started DELETE "/boms/230" for 127.0.0.1 at 2015-11-03 10:14:36 +0800
Processing by BomsController#destroy as HTML
  Parameters: {"authenticity_token"=>"kQGgJai0dCWFwgx9TvWKFL8oFeP7ygvWC1xunOUnLDXaf98ANu9SM+wEsJn8l+J0qmu+GD4rXjXTsBY/QFHTqA==", "id"=>"230"}
  [1m[36mBom Load (0.3ms)[0m  [1mSELECT  `boms`.* FROM `boms` WHERE `boms`.`id` = ? LIMIT 1[0m  [["id", 230]]
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mBomItem Load (1.1ms)[0m  [1mSELECT `bom_items`.* FROM `bom_items` WHERE `bom_items`.`bom_id` = ?[0m  [["bom_id", 230]]
  [1m[35mSQL (3.0ms)[0m  DELETE FROM `boms` WHERE `boms`.`id` = ?  [["id", 230]]
  [1m[36m (172.6ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/boms
Completed 302 Found in 205ms (ActiveRecord: 177.1ms)


Started GET "/boms" for 127.0.0.1 at 2015-11-03 10:14:36 +0800
Processing by BomsController#index as HTML
  [1m[35mBom Load (0.4ms)[0m  SELECT `boms`.* FROM `boms`
  Rendered boms/index.html.erb within layouts/application (4.0ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.1ms)
Completed 200 OK in 115ms (Views: 113.8ms | ActiveRecord: 0.4ms)


Started GET "/assets/bom_item.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:14:36 +0800


Started GET "/assets/boms.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:14:36 +0800


Started GET "/assets/custom.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:14:36 +0800


Started GET "/assets/static_pages.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:14:36 +0800


Started GET "/assets/application.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:14:36 +0800


Started GET "/assets/jquery.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:36 +0800


Started GET "/assets/turbolinks.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:36 +0800


Started GET "/assets/jquery_ujs.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:36 +0800


Started GET "/assets/development/react.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:36 +0800


Started GET "/assets/react_ujs.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:36 +0800


Started GET "/assets/components.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:36 +0800


Started GET "/assets/application.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:36 +0800


Started GET "/assets/bom_item.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:36 +0800


Started GET "/assets/bootstrap/modal.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:36 +0800


Started GET "/assets/static_pages.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:36 +0800


Started GET "/assets/static_pages/about.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:36 +0800


Started GET "/assets/boms.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:36 +0800


Started DELETE "/boms/231" for 127.0.0.1 at 2015-11-03 10:14:37 +0800
Processing by BomsController#destroy as HTML
  Parameters: {"authenticity_token"=>"uRRS7FNuhf4iwiTdJO105ztin1G3Ev7fIvZyyodxqZ7yai3JzTWj6EsEmDmWjxyHLiE0qnLzqzz6GgppIgdWAw==", "id"=>"231"}
  [1m[36mBom Load (0.9ms)[0m  [1mSELECT  `boms`.* FROM `boms` WHERE `boms`.`id` = ? LIMIT 1[0m  [["id", 231]]
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mBomItem Load (0.5ms)[0m  [1mSELECT `bom_items`.* FROM `bom_items` WHERE `bom_items`.`bom_id` = ?[0m  [["bom_id", 231]]
  [1m[35mSQL (2.1ms)[0m  DELETE FROM `boms` WHERE `boms`.`id` = ?  [["id", 231]]
  [1m[36m (96.0ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/boms
Completed 302 Found in 106ms (ActiveRecord: 99.6ms)


Started GET "/boms" for 127.0.0.1 at 2015-11-03 10:14:37 +0800
Processing by BomsController#index as HTML
  [1m[35mBom Load (0.4ms)[0m  SELECT `boms`.* FROM `boms`
  Rendered boms/index.html.erb within layouts/application (3.5ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 125ms (Views: 124.1ms | ActiveRecord: 0.4ms)


Started GET "/assets/bom_item.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:14:37 +0800


Started GET "/assets/boms.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:14:37 +0800


Started GET "/assets/static_pages.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:14:37 +0800


Started GET "/assets/application.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:14:37 +0800


Started GET "/assets/custom.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:14:37 +0800


Started GET "/assets/jquery_ujs.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:37 +0800


Started GET "/assets/jquery.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:38 +0800


Started GET "/assets/bom_item.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:38 +0800


Started GET "/assets/boms.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:38 +0800


Started GET "/assets/react_ujs.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:38 +0800


Started GET "/assets/bootstrap/modal.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:38 +0800


Started GET "/assets/development/react.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:38 +0800


Started GET "/assets/components.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:38 +0800


Started GET "/assets/turbolinks.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:38 +0800


Started GET "/assets/static_pages.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:38 +0800


Started GET "/assets/application.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:38 +0800


Started GET "/assets/static_pages/about.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:38 +0800


Started DELETE "/boms/232" for 127.0.0.1 at 2015-11-03 10:14:38 +0800
Processing by BomsController#destroy as HTML
  Parameters: {"authenticity_token"=>"h4ntOGy139Wgb3+EkJ7YMDSPPnc5Mcq1xlATBgN0xqTM95Id8u75w8mpw2Ai/LBQIcyVjPzQn1YevGulpgI5OQ==", "id"=>"232"}
  [1m[36mBom Load (0.3ms)[0m  [1mSELECT  `boms`.* FROM `boms` WHERE `boms`.`id` = ? LIMIT 1[0m  [["id", 232]]
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mBomItem Load (0.2ms)[0m  [1mSELECT `bom_items`.* FROM `bom_items` WHERE `bom_items`.`bom_id` = ?[0m  [["bom_id", 232]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `boms` WHERE `boms`.`id` = ?  [["id", 232]]
  [1m[36m (65.8ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/boms
Completed 302 Found in 70ms (ActiveRecord: 66.6ms)


Started GET "/boms" for 127.0.0.1 at 2015-11-03 10:14:38 +0800
Processing by BomsController#index as HTML
  [1m[35mBom Load (0.4ms)[0m  SELECT `boms`.* FROM `boms`
  Rendered boms/index.html.erb within layouts/application (3.2ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 120ms (Views: 119.2ms | ActiveRecord: 0.4ms)


Started GET "/assets/bom_item.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:14:39 +0800


Started GET "/assets/boms.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:14:39 +0800


Started GET "/assets/static_pages.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:14:39 +0800


Started GET "/assets/application.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:14:39 +0800


Started GET "/assets/react_ujs.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:39 +0800


Started GET "/assets/jquery.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:39 +0800


Started GET "/assets/turbolinks.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:39 +0800


Started GET "/assets/development/react.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:39 +0800


Started GET "/assets/custom.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:14:39 +0800


Started GET "/assets/jquery_ujs.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:39 +0800


Started GET "/assets/components.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:39 +0800


Started GET "/assets/bootstrap/modal.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:39 +0800


Started GET "/assets/boms.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:39 +0800


Started GET "/assets/bom_item.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:39 +0800


Started GET "/assets/static_pages.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:39 +0800


Started GET "/assets/application.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:39 +0800


Started GET "/assets/static_pages/about.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:39 +0800


Started DELETE "/boms/233" for 127.0.0.1 at 2015-11-03 10:14:40 +0800
Processing by BomsController#destroy as HTML
  Parameters: {"authenticity_token"=>"2268wlarUhRC03MjuCAfeF0ZTimLhhnFhFwuONOo56iQEMPnyPB0AisVz8cKQncYSFrl0k5nTCZcsFabdt4YNQ==", "id"=>"233"}
  [1m[36mBom Load (0.3ms)[0m  [1mSELECT  `boms`.* FROM `boms` WHERE `boms`.`id` = ? LIMIT 1[0m  [["id", 233]]
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mBomItem Load (0.2ms)[0m  [1mSELECT `bom_items`.* FROM `bom_items` WHERE `bom_items`.`bom_id` = ?[0m  [["bom_id", 233]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `boms` WHERE `boms`.`id` = ?  [["id", 233]]
  [1m[36m (70.7ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/boms
Completed 302 Found in 75ms (ActiveRecord: 71.5ms)


Started GET "/boms" for 127.0.0.1 at 2015-11-03 10:14:40 +0800
Processing by BomsController#index as HTML
  [1m[35mBom Load (0.3ms)[0m  SELECT `boms`.* FROM `boms`
  Rendered boms/index.html.erb within layouts/application (2.3ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 112ms (Views: 111.4ms | ActiveRecord: 0.3ms)


Started GET "/assets/bom_item.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:14:40 +0800


Started GET "/assets/boms.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:14:40 +0800


Started GET "/assets/custom.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:14:40 +0800


Started GET "/assets/static_pages.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:14:40 +0800


Started GET "/assets/application.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:14:40 +0800


Started GET "/assets/jquery.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:40 +0800


Started GET "/assets/turbolinks.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:40 +0800


Started GET "/assets/jquery_ujs.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:40 +0800


Started GET "/assets/bootstrap/modal.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:40 +0800


Started GET "/assets/components.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:40 +0800


Started GET "/assets/react_ujs.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:40 +0800


Started GET "/assets/development/react.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:40 +0800


Started GET "/assets/bom_item.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:40 +0800


Started GET "/assets/static_pages/about.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:40 +0800


Started GET "/assets/boms.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:40 +0800


Started GET "/assets/static_pages.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:40 +0800


Started GET "/assets/application.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:40 +0800


Started GET "/uploads/bom/excel_file/228/0610test.xls" for 127.0.0.1 at 2015-11-03 10:14:42 +0800

ActionController::RoutingError (No route matches [GET] "/uploads/bom/excel_file/228/0610test.xls"):
  actionpack (4.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.2.1) lib/web_console/middleware.rb:39:in `call'
  actionpack (4.2.1) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.1) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.1) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.1) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.1) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.1) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.1) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.1) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.4) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.4) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.1) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.4) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.1) lib/rails/engine.rb:518:in `call'
  railties (4.2.1) lib/rails/application.rb:164:in `call'
  rack (1.6.4) lib/rack/content_length.rb:15:in `call'
  puma (2.12.2) lib/puma/server.rb:539:in `handle_request'
  puma (2.12.2) lib/puma/server.rb:386:in `process_client'
  puma (2.12.2) lib/puma/server.rb:269:in `block in run'
  puma (2.12.2) lib/puma/thread_pool.rb:106:in `call'
  puma (2.12.2) lib/puma/thread_pool.rb:106:in `block in spawn_thread'


  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/routes/_route.html.erb (2.4ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/routes/_route.html.erb (0.6ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.6ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (68.2ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (28.2ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (110.8ms)


Started DELETE "/boms/228" for 127.0.0.1 at 2015-11-03 10:14:48 +0800
Processing by BomsController#destroy as HTML
  Parameters: {"authenticity_token"=>"0yIcJK9+Dp2hSo8PQ4XyOWPvDQFVLC/w9XWJROUnHvSYXGMBMSUoi8iMM+vx55pZdqym+pDNehMtmfHnQFHhaQ==", "id"=>"228"}
  [1m[36mBom Load (0.3ms)[0m  [1mSELECT  `boms`.* FROM `boms` WHERE `boms`.`id` = ? LIMIT 1[0m  [["id", 228]]
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mBomItem Load (0.2ms)[0m  [1mSELECT `bom_items`.* FROM `bom_items` WHERE `bom_items`.`bom_id` = ?[0m  [["bom_id", 228]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `boms` WHERE `boms`.`id` = ?  [["id", 228]]
  [1m[36m (125.6ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/boms
Completed 302 Found in 130ms (ActiveRecord: 126.5ms)


Started GET "/boms" for 127.0.0.1 at 2015-11-03 10:14:48 +0800
Processing by BomsController#index as HTML
  [1m[35mBom Load (0.3ms)[0m  SELECT `boms`.* FROM `boms`
  Rendered boms/index.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 115ms (Views: 114.6ms | ActiveRecord: 0.3ms)


Started GET "/assets/bom_item.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:14:48 +0800


Started GET "/assets/jquery_ujs.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:48 +0800


Started GET "/assets/boms.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:14:48 +0800


Started GET "/assets/custom.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:14:48 +0800


Started GET "/assets/static_pages.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:14:48 +0800


Started GET "/assets/jquery.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:48 +0800


Started GET "/assets/application.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:14:48 +0800


Started GET "/assets/development/react.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:48 +0800


Started GET "/assets/turbolinks.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:48 +0800


Started GET "/assets/components.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:48 +0800


Started GET "/assets/bom_item.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:48 +0800


Started GET "/assets/bootstrap/modal.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:48 +0800


Started GET "/assets/react_ujs.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:48 +0800


Started GET "/assets/boms.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:48 +0800


Started GET "/assets/static_pages/about.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:48 +0800


Started GET "/assets/static_pages.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:48 +0800


Started GET "/assets/application.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:14:48 +0800


Started GET "/boms/235" for 127.0.0.1 at 2015-11-03 10:14:50 +0800
Processing by BomsController#show as HTML
  Parameters: {"id"=>"235"}
  [1m[36mBom Load (0.3ms)[0m  [1mSELECT  `boms`.* FROM `boms` WHERE `boms`.`id` = ? LIMIT 1[0m  [["id", 235]]
  [1m[35mBomItem Load (0.4ms)[0m  SELECT `bom_items`.* FROM `bom_items` WHERE `bom_items`.`bom_id` = ?  [["bom_id", 235]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `bom_items` WHERE `bom_items`.`bom_id` = ?[0m  [["bom_id", 235]]
  Rendered boms/show.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 142ms (Views: 137.6ms | ActiveRecord: 0.9ms)


Started GET "/boms/235" for 127.0.0.1 at 2015-11-03 10:15:41 +0800
Processing by BomsController#show as HTML
  Parameters: {"id"=>"235"}
  [1m[35mBom Load (0.2ms)[0m  SELECT  `boms`.* FROM `boms` WHERE `boms`.`id` = ? LIMIT 1  [["id", 235]]
  [1m[36mBomItem Load (0.1ms)[0m  [1mSELECT `bom_items`.* FROM `bom_items` WHERE `bom_items`.`bom_id` = ?[0m  [["bom_id", 235]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `bom_items` WHERE `bom_items`.`bom_id` = ?  [["bom_id", 235]]
  Rendered boms/show.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 123ms (Views: 120.2ms | ActiveRecord: 0.4ms)


Started GET "/boms/235" for 127.0.0.1 at 2015-11-03 10:15:50 +0800
Processing by BomsController#show as HTML
  Parameters: {"id"=>"235"}
  [1m[36mBom Load (0.4ms)[0m  [1mSELECT  `boms`.* FROM `boms` WHERE `boms`.`id` = ? LIMIT 1[0m  [["id", 235]]
  [1m[35mBomItem Load (0.2ms)[0m  SELECT `bom_items`.* FROM `bom_items` WHERE `bom_items`.`bom_id` = ?  [["bom_id", 235]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `bom_items` WHERE `bom_items`.`bom_id` = ?[0m  [["bom_id", 235]]
  Rendered boms/show.html.erb within layouts/application (0.7ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 121ms (Views: 116.5ms | ActiveRecord: 0.6ms)


Started GET "/boms/235" for 127.0.0.1 at 2015-11-03 10:16:17 +0800
Processing by BomsController#show as HTML
  Parameters: {"id"=>"235"}
  [1m[35mBom Load (0.2ms)[0m  SELECT  `boms`.* FROM `boms` WHERE `boms`.`id` = ? LIMIT 1  [["id", 235]]
  [1m[36mBomItem Load (0.1ms)[0m  [1mSELECT `bom_items`.* FROM `bom_items` WHERE `bom_items`.`bom_id` = ?[0m  [["bom_id", 235]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `bom_items` WHERE `bom_items`.`bom_id` = ?  [["bom_id", 235]]
  Rendered boms/show.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 118ms (Views: 115.8ms | ActiveRecord: 0.4ms)


Started GET "/boms" for 127.0.0.1 at 2015-11-03 10:18:30 +0800
Processing by BomsController#index as HTML
  [1m[36mBom Load (0.4ms)[0m  [1mSELECT `boms`.* FROM `boms`[0m
  Rendered boms/index.html.erb within layouts/application (2.5ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.2ms)
Completed 200 OK in 134ms (Views: 132.6ms | ActiveRecord: 0.4ms)


Started GET "/boms/235" for 127.0.0.1 at 2015-11-03 10:18:31 +0800
Processing by BomsController#show as HTML
  Parameters: {"id"=>"235"}
  [1m[35mBom Load (1.2ms)[0m  SELECT  `boms`.* FROM `boms` WHERE `boms`.`id` = ? LIMIT 1  [["id", 235]]
  [1m[36mBomItem Load (0.1ms)[0m  [1mSELECT `bom_items`.* FROM `bom_items` WHERE `bom_items`.`bom_id` = ?[0m  [["bom_id", 235]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `bom_items` WHERE `bom_items`.`bom_id` = ?  [["bom_id", 235]]
  Rendered boms/show.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 128ms (Views: 123.3ms | ActiveRecord: 1.4ms)


Started GET "/" for 127.0.0.1 at 2015-11-03 10:21:31 +0800
Processing by BomsController#upload as HTML
  Rendered boms/upload.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.0ms)
Completed 200 OK in 133ms (Views: 132.4ms | ActiveRecord: 0.0ms)


Started POST "/boms" for 127.0.0.1 at 2015-11-03 10:21:36 +0800
Processing by BomsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"0ankQhRs9mFbT3BTaV8D/O/t8TLi+mcV/nYE1s58p0Ca15tnijfQdzKJzLfbPWuc+q5ayScbMvYmmnx1awpY3Q==", "commit"=>"上传"}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms)

ActionController::ParameterMissing (param is missing or the value is empty: bom):
  app/controllers/boms_controller.rb:174:in `bom_params'
  app/controllers/boms_controller.rb:103:in `create'


  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.4ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.1ms)
Cannot render console with content type multipart/form-dataAllowed content types: [#<Mime::Type:0x00000004c14388 @synonyms=["application/xhtml+xml"], @symbol=:html, @string="text/html">, #<Mime::Type:0x00000004c15800 @synonyms=[], @symbol=:text, @string="text/plain">, #<Mime::Type:0x00000004c0ba80 @synonyms=[], @symbol=:url_encoded_form, @string="application/x-www-form-urlencoded">]


Started POST "/boms" for 127.0.0.1 at 2015-11-03 10:25:12 +0800
Processing by BomsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"0ankQhRs9mFbT3BTaV8D/O/t8TLi+mcV/nYE1s58p0Ca15tnijfQdzKJzLfbPWuc+q5ayScbMvYmmnx1awpY3Q==", "bom"=>{"excel_file"=>#<ActionDispatch::Http::UploadedFile:0x007f34426679e8 @tempfile=#<Tempfile:/tmp/RackMultipart20151103-16358-o9i3xh.xls>, @original_filename="wwtest.xls", @content_type="application/vnd.ms-excel", @headers="Content-Disposition: form-data; name=\"bom[excel_file]\"; filename=\"wwtest.xls\"\r\nContent-Type: application/vnd.ms-excel\r\n">}, "commit"=>"上传"}
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `boms` (`excel_file`, `created_at`, `updated_at`) VALUES (?, ?, ?)  [["excel_file", "wwtest.xls"], ["created_at", "2015-11-03 02:25:12"], ["updated_at", "2015-11-03 02:25:12"]]
  [1m[36m (89.3ms)[0m  [1mCOMMIT[0m
Completed 500 Internal Server Error in 111ms (ActiveRecord: 89.7ms)

RuntimeError (Couldn't find header row.):
  app/controllers/boms_controller.rb:110:in `create'


  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (10.1ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.6ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.3ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (41.2ms)
Cannot render console with content type multipart/form-dataAllowed content types: [#<Mime::Type:0x00000004c14388 @synonyms=["application/xhtml+xml"], @symbol=:html, @string="text/html">, #<Mime::Type:0x00000004c15800 @synonyms=[], @symbol=:text, @string="text/plain">, #<Mime::Type:0x00000004c0ba80 @synonyms=[], @symbol=:url_encoded_form, @string="application/x-www-form-urlencoded">]


Started POST "/boms" for 127.0.0.1 at 2015-11-03 10:35:27 +0800
Processing by BomsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"0ankQhRs9mFbT3BTaV8D/O/t8TLi+mcV/nYE1s58p0Ca15tnijfQdzKJzLfbPWuc+q5ayScbMvYmmnx1awpY3Q==", "bom"=>{"excel_file"=>#<ActionDispatch::Http::UploadedFile:0x007f3442958cb0 @tempfile=#<Tempfile:/tmp/RackMultipart20151103-16358-zcxe0d.xls>, @original_filename="template3.xls", @content_type="application/vnd.ms-excel", @headers="Content-Disposition: form-data; name=\"bom[excel_file]\"; filename=\"template3.xls\"\r\nContent-Type: application/vnd.ms-excel\r\n">}, "commit"=>"上传"}
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `boms` (`excel_file`, `created_at`, `updated_at`) VALUES (?, ?, ?)[0m  [["excel_file", "template3.xls"], ["created_at", "2015-11-03 02:35:28"], ["updated_at", "2015-11-03 02:35:28"]]
  [1m[35m (39.1ms)[0m  COMMIT
  [1m[36mPart Load (0.3ms)[0m  [1mSELECT  `parts`.* FROM `parts` WHERE `parts`.`part_code` = 'R' LIMIT 1[0m
  [1m[32mSphinx[0m  Retrying query "SELECT * FROM `product_core`, `product_delta` WHERE MATCH('*10K* *0603* *1* % @part_name *RES*') AND `sphinx_deleted` = 0 ORDER BY `prefer` DESC LIMIT 0, 20; SHOW META" after error: Error connecting to Sphinx via the MySQL protocol. Error connecting to Sphinx via the MySQL protocol. Can't connect to MySQL server on '127.0.0.1' (111) - SELECT * FROM `product_core`, `product_delta` WHERE MATCH('*10K* *0603* *1* % @part_name *RES*') AND `sphinx_deleted` = 0 ORDER BY `prefer` DESC LIMIT 0, 20; SHOW META
  [1m[32mSphinx[0m  Retrying query "SELECT * FROM `product_core`, `product_delta` WHERE MATCH('*10K* *0603* *1* % @part_name *RES*') AND `sphinx_deleted` = 0 ORDER BY `prefer` DESC LIMIT 0, 20; SHOW META" after error: Error connecting to Sphinx via the MySQL protocol. Error connecting to Sphinx via the MySQL protocol. Can't connect to MySQL server on '127.0.0.1' (111) - SELECT * FROM `product_core`, `product_delta` WHERE MATCH('*10K* *0603* *1* % @part_name *RES*') AND `sphinx_deleted` = 0 ORDER BY `prefer` DESC LIMIT 0, 20; SHOW META
  [1m[32mSphinx Query (11.6ms)[0m  SELECT * FROM `product_core`, `product_delta` WHERE MATCH('*10K* *0603* *1* % @part_name *RES*') AND `sphinx_deleted` = 0 ORDER BY `prefer` DESC LIMIT 0, 20
Completed 500 Internal Server Error in 223ms (ActiveRecord: 41.9ms)

ThinkingSphinx::ConnectionError (Error connecting to Sphinx via the MySQL protocol. Error connecting to Sphinx via the MySQL protocol. Can't connect to MySQL server on '127.0.0.1' (111) - SELECT * FROM `product_core`, `product_delta` WHERE MATCH('*10K* *0603* *1* % @part_name *RES*') AND `sphinx_deleted` = 0 ORDER BY `prefer` DESC LIMIT 0, 20; SHOW META):
  app/controllers/boms_controller.rb:185:in `search_bom'
  app/controllers/boms_controller.rb:143:in `block in create'
  app/controllers/boms_controller.rb:118:in `each'
  app/controllers/boms_controller.rb:118:in `create'


  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.5ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.6ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.0ms)
Cannot render console with content type multipart/form-dataAllowed content types: [#<Mime::Type:0x00000004c14388 @synonyms=["application/xhtml+xml"], @symbol=:html, @string="text/html">, #<Mime::Type:0x00000004c15800 @synonyms=[], @symbol=:text, @string="text/plain">, #<Mime::Type:0x00000004c0ba80 @synonyms=[], @symbol=:url_encoded_form, @string="application/x-www-form-urlencoded">]
DEPRECATION WARNING: Currently, Active Record suppresses errors raised within `after_rollback`/`after_commit` callbacks and only print them to the logs. In the next version, these errors will no longer be suppressed. Instead, the errors will propagate normally just like in other Active Record callbacks.

You can opt into the new behavior and remove this warning by setting:

  config.active_record.raise_in_transactional_callbacks = true

 (called from block in tsort_each at /home/leon/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/tsort.rb:226)


Started POST "/boms" for 127.0.0.1 at 2015-11-03 10:37:48 +0800
  [1m[36mActiveRecord::SchemaMigration Load (15.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by BomsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"0ankQhRs9mFbT3BTaV8D/O/t8TLi+mcV/nYE1s58p0Ca15tnijfQdzKJzLfbPWuc+q5ayScbMvYmmnx1awpY3Q==", "bom"=>{"excel_file"=>#<ActionDispatch::Http::UploadedFile:0x007f70a8028508 @tempfile=#<Tempfile:/tmp/RackMultipart20151103-21332-irc1tr.xls>, @original_filename="template3.xls", @content_type="application/vnd.ms-excel", @headers="Content-Disposition: form-data; name=\"bom[excel_file]\"; filename=\"template3.xls\"\r\nContent-Type: application/vnd.ms-excel\r\n">}, "commit"=>"上传"}
DEPRECATION WARNING: Currently, Active Record suppresses errors raised within `after_rollback`/`after_commit` callbacks and only print them to the logs. In the next version, these errors will no longer be suppressed. Instead, the errors will propagate normally just like in other Active Record callbacks.

You can opt into the new behavior and remove this warning by setting:

  config.active_record.raise_in_transactional_callbacks = true

 (called from <class:Bom> at /home/leon/fastbom/app/models/bom.rb:3)
DEPRECATION WARNING: Currently, Active Record suppresses errors raised within `after_rollback`/`after_commit` callbacks and only print them to the logs. In the next version, these errors will no longer be suppressed. Instead, the errors will propagate normally just like in other Active Record callbacks.

You can opt into the new behavior and remove this warning by setting:

  config.active_record.raise_in_transactional_callbacks = true

 (called from <class:Bom> at /home/leon/fastbom/app/models/bom.rb:3)
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `boms` (`excel_file`, `created_at`, `updated_at`) VALUES (?, ?, ?)[0m  [["excel_file", "template3.xls"], ["created_at", "2015-11-03 02:37:49"], ["updated_at", "2015-11-03 02:37:49"]]
  [1m[35m (40.6ms)[0m  COMMIT
  [1m[36mPart Load (0.3ms)[0m  [1mSELECT  `parts`.* FROM `parts` WHERE `parts`.`part_code` = 'R' LIMIT 1[0m
  [1m[32mSphinx[0m  Retrying query "SELECT * FROM `product_core`, `product_delta` WHERE MATCH('*10K* *0603* *1* % @part_name *RES*') AND `sphinx_deleted` = 0 ORDER BY `prefer` DESC LIMIT 0, 20; SHOW META" after error: Error connecting to Sphinx via the MySQL protocol. Error connecting to Sphinx via the MySQL protocol. Can't connect to MySQL server on '127.0.0.1' (111) - SELECT * FROM `product_core`, `product_delta` WHERE MATCH('*10K* *0603* *1* % @part_name *RES*') AND `sphinx_deleted` = 0 ORDER BY `prefer` DESC LIMIT 0, 20; SHOW META
  [1m[32mSphinx[0m  Retrying query "SELECT * FROM `product_core`, `product_delta` WHERE MATCH('*10K* *0603* *1* % @part_name *RES*') AND `sphinx_deleted` = 0 ORDER BY `prefer` DESC LIMIT 0, 20; SHOW META" after error: Error connecting to Sphinx via the MySQL protocol. Error connecting to Sphinx via the MySQL protocol. Can't connect to MySQL server on '127.0.0.1' (111) - SELECT * FROM `product_core`, `product_delta` WHERE MATCH('*10K* *0603* *1* % @part_name *RES*') AND `sphinx_deleted` = 0 ORDER BY `prefer` DESC LIMIT 0, 20; SHOW META
  [1m[32mSphinx Query (10.0ms)[0m  SELECT * FROM `product_core`, `product_delta` WHERE MATCH('*10K* *0603* *1* % @part_name *RES*') AND `sphinx_deleted` = 0 ORDER BY `prefer` DESC LIMIT 0, 20
Completed 500 Internal Server Error in 227ms (ActiveRecord: 45.5ms)

ThinkingSphinx::ConnectionError (Error connecting to Sphinx via the MySQL protocol. Error connecting to Sphinx via the MySQL protocol. Can't connect to MySQL server on '127.0.0.1' (111) - SELECT * FROM `product_core`, `product_delta` WHERE MATCH('*10K* *0603* *1* % @part_name *RES*') AND `sphinx_deleted` = 0 ORDER BY `prefer` DESC LIMIT 0, 20; SHOW META):
  app/controllers/boms_controller.rb:185:in `search_bom'
  app/controllers/boms_controller.rb:143:in `block in create'
  app/controllers/boms_controller.rb:118:in `each'
  app/controllers/boms_controller.rb:118:in `create'


  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.8ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.9ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.7ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (23.6ms)
Cannot render console with content type multipart/form-dataAllowed content types: [#<Mime::Type:0x000000057111a0 @synonyms=["application/xhtml+xml"], @symbol=:html, @string="text/html">, #<Mime::Type:0x00000005710ed0 @synonyms=[], @symbol=:text, @string="text/plain">, #<Mime::Type:0x0000000570dc08 @synonyms=[], @symbol=:url_encoded_form, @string="application/x-www-form-urlencoded">]


Started GET "/boms" for 127.0.0.1 at 2015-11-03 10:42:41 +0800
Processing by BomsController#index as HTML
  [1m[35mBom Load (0.5ms)[0m  SELECT `boms`.* FROM `boms`
  Rendered boms/index.html.erb within layouts/application (5.9ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_flash_messages.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.3ms)
  Rendered layouts/_google_analytics.html.erb (0.4ms)
Completed 200 OK in 656ms (Views: 654.9ms | ActiveRecord: 0.5ms)


Started GET "/boms/238" for 127.0.0.1 at 2015-11-03 10:42:43 +0800
Processing by BomsController#show as HTML
  Parameters: {"id"=>"238"}
  [1m[36mBom Load (0.7ms)[0m  [1mSELECT  `boms`.* FROM `boms` WHERE `boms`.`id` = ? LIMIT 1[0m  [["id", 238]]
  [1m[35mBomItem Load (0.6ms)[0m  SELECT `bom_items`.* FROM `bom_items` WHERE `bom_items`.`bom_id` = ?  [["bom_id", 238]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `bom_items` WHERE `bom_items`.`bom_id` = ?[0m  [["bom_id", 238]]
  Rendered boms/show.html.erb within layouts/application (85.6ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_flash_messages.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.3ms)
  Rendered layouts/_google_analytics.html.erb (0.3ms)
Completed 200 OK in 210ms (Views: 203.0ms | ActiveRecord: 1.9ms)


Started GET "/boms/237" for 127.0.0.1 at 2015-11-03 10:42:46 +0800
Processing by BomsController#show as HTML
  Parameters: {"id"=>"237"}
  [1m[35mBom Load (0.4ms)[0m  SELECT  `boms`.* FROM `boms` WHERE `boms`.`id` = ? LIMIT 1  [["id", 237]]
  [1m[36mBomItem Load (0.3ms)[0m  [1mSELECT `bom_items`.* FROM `bom_items` WHERE `bom_items`.`bom_id` = ?[0m  [["bom_id", 237]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `bom_items` WHERE `bom_items`.`bom_id` = ?  [["bom_id", 237]]
  Rendered boms/show.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
  Rendered layouts/_google_analytics.html.erb (0.1ms)
Completed 200 OK in 126ms (Views: 122.2ms | ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2015-11-03 10:43:36 +0800
Processing by BomsController#upload as HTML
  Rendered boms/upload.html.erb within layouts/application (15.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_flash_messages.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
  Rendered layouts/_google_analytics.html.erb (0.1ms)
Completed 200 OK in 151ms (Views: 150.2ms | ActiveRecord: 0.0ms)


Started GET "/assets/bom_item.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:43:36 +0800


Started GET "/assets/boms.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:43:36 +0800


Started GET "/assets/custom.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:43:36 +0800


Started GET "/assets/static_pages.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:43:36 +0800


Started GET "/assets/application.self.css?body=1" for 127.0.0.1 at 2015-11-03 10:43:36 +0800


Started GET "/assets/jquery.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:43:36 +0800


Started GET "/assets/turbolinks.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:43:36 +0800


Started GET "/assets/components.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:43:36 +0800


Started GET "/assets/bootstrap/modal.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:43:36 +0800


Started GET "/assets/boms.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:43:36 +0800


Started GET "/assets/react_ujs.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:43:36 +0800


Started GET "/assets/development/react.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:43:36 +0800


Started GET "/assets/bom_item.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:43:36 +0800


Started GET "/assets/application.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:43:36 +0800


Started GET "/assets/static_pages.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:43:36 +0800


Started GET "/assets/jquery_ujs.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:43:36 +0800


Started GET "/assets/static_pages/about.self.js?body=1" for 127.0.0.1 at 2015-11-03 10:43:36 +0800


Started POST "/boms" for 127.0.0.1 at 2015-11-03 10:43:43 +0800
Processing by BomsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"kYwdV7WS4jzZaloJtU4wLRjSLc2riBEzMLLjn2e4Edna8mJyK8nEKrCs5u0HLFhNDZGGNm5pRNDoXps8ws7uRA==", "bom"=>{"excel_file"=>#<ActionDispatch::Http::UploadedFile:0x007f70aa6769f8 @tempfile=#<Tempfile:/tmp/RackMultipart20151103-21332-1u50mxx.xls>, @original_filename="template3.xls", @content_type="application/vnd.ms-excel", @headers="Content-Disposition: form-data; name=\"bom[excel_file]\"; filename=\"template3.xls\"\r\nContent-Type: application/vnd.ms-excel\r\n">}, "commit"=>"上传"}
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `boms` (`excel_file`, `created_at`, `updated_at`) VALUES (?, ?, ?)  [["excel_file", "template3.xls"], ["created_at", "2015-11-03 02:43:43"], ["updated_at", "2015-11-03 02:43:43"]]
  [1m[36m (46.0ms)[0m  [1mCOMMIT[0m
  [1m[35mPart Load (0.3ms)[0m  SELECT  `parts`.* FROM `parts` WHERE `parts`.`part_code` = 'R' LIMIT 1
  [1m[32mSphinx[0m  Retrying query "SELECT * FROM `product_core`, `product_delta` WHERE MATCH('*10K* *0603* *1* % @part_name *RES*') AND `sphinx_deleted` = 0 ORDER BY `prefer` DESC LIMIT 0, 20; SHOW META" after error: Error connecting to Sphinx via the MySQL protocol. Error connecting to Sphinx via the MySQL protocol. Can't connect to MySQL server on '127.0.0.1' (111) - SELECT * FROM `product_core`, `product_delta` WHERE MATCH('*10K* *0603* *1* % @part_name *RES*') AND `sphinx_deleted` = 0 ORDER BY `prefer` DESC LIMIT 0, 20; SHOW META
  [1m[32mSphinx[0m  Retrying query "SELECT * FROM `product_core`, `product_delta` WHERE MATCH('*10K* *0603* *1* % @part_name *RES*') AND `sphinx_deleted` = 0 ORDER BY `prefer` DESC LIMIT 0, 20; SHOW META" after error: Error connecting to Sphinx via the MySQL protocol. Error connecting to Sphinx via the MySQL protocol. Can't connect to MySQL server on '127.0.0.1' (111) - SELECT * FROM `product_core`, `product_delta` WHERE MATCH('*10K* *0603* *1* % @part_name *RES*') AND `sphinx_deleted` = 0 ORDER BY `prefer` DESC LIMIT 0, 20; SHOW META
  [1m[32mSphinx Query (9.2ms)[0m  SELECT * FROM `product_core`, `product_delta` WHERE MATCH('*10K* *0603* *1* % @part_name *RES*') AND `sphinx_deleted` = 0 ORDER BY `prefer` DESC LIMIT 0, 20
Completed 500 Internal Server Error in 100ms (ActiveRecord: 47.1ms)

ThinkingSphinx::ConnectionError (Error connecting to Sphinx via the MySQL protocol. Error connecting to Sphinx via the MySQL protocol. Can't connect to MySQL server on '127.0.0.1' (111) - SELECT * FROM `product_core`, `product_delta` WHERE MATCH('*10K* *0603* *1* % @part_name *RES*') AND `sphinx_deleted` = 0 ORDER BY `prefer` DESC LIMIT 0, 20; SHOW META):
  app/controllers/boms_controller.rb:185:in `search_bom'
  app/controllers/boms_controller.rb:143:in `block in create'
  app/controllers/boms_controller.rb:118:in `each'
  app/controllers/boms_controller.rb:118:in `create'


  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.9ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.8ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (22.1ms)
Cannot render console with content type multipart/form-dataAllowed content types: [#<Mime::Type:0x000000057111a0 @synonyms=["application/xhtml+xml"], @symbol=:html, @string="text/html">, #<Mime::Type:0x00000005710ed0 @synonyms=[], @symbol=:text, @string="text/plain">, #<Mime::Type:0x0000000570dc08 @synonyms=[], @symbol=:url_encoded_form, @string="application/x-www-form-urlencoded">]


Started POST "/boms" for 127.0.0.1 at 2015-11-03 11:04:02 +0800
Processing by BomsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"kYwdV7WS4jzZaloJtU4wLRjSLc2riBEzMLLjn2e4Edna8mJyK8nEKrCs5u0HLFhNDZGGNm5pRNDoXps8ws7uRA==", "bom"=>{"excel_file"=>#<ActionDispatch::Http::UploadedFile:0x007f70abb99380 @tempfile=#<Tempfile:/tmp/RackMultipart20151103-21332-7zyelv.xls>, @original_filename="template3.xls", @content_type="application/vnd.ms-excel", @headers="Content-Disposition: form-data; name=\"bom[excel_file]\"; filename=\"template3.xls\"\r\nContent-Type: application/vnd.ms-excel\r\n">}, "commit"=>"上传"}
DEPRECATION WARNING: Currently, Active Record suppresses errors raised within `after_rollback`/`after_commit` callbacks and only print them to the logs. In the next version, these errors will no longer be suppressed. Instead, the errors will propagate normally just like in other Active Record callbacks.

You can opt into the new behavior and remove this warning by setting:

  config.active_record.raise_in_transactional_callbacks = true

 (called from <class:Bom> at /home/leon/fastbom/app/models/bom.rb:3)
DEPRECATION WARNING: Currently, Active Record suppresses errors raised within `after_rollback`/`after_commit` callbacks and only print them to the logs. In the next version, these errors will no longer be suppressed. Instead, the errors will propagate normally just like in other Active Record callbacks.

You can opt into the new behavior and remove this warning by setting:

  config.active_record.raise_in_transactional_callbacks = true

 (called from <class:Bom> at /home/leon/fastbom/app/models/bom.rb:3)
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `boms` (`excel_file`, `created_at`, `updated_at`) VALUES (?, ?, ?)  [["excel_file", "template3.xls"], ["created_at", "2015-11-03 03:04:02"], ["updated_at", "2015-11-03 03:04:02"]]
  [1m[36m (92.9ms)[0m  [1mCOMMIT[0m
  [1m[35mPart Load (0.2ms)[0m  SELECT  `parts`.* FROM `parts` WHERE `parts`.`part_code` = 'R' LIMIT 1
#<Part:0x007f70abdfe7d8>
  [1m[32mSphinx[0m  Retrying query "SELECT * FROM `product_core`, `product_delta` WHERE MATCH('*10K* *0603* *1* % @part_name *RES*') AND `sphinx_deleted` = 0 ORDER BY `prefer` DESC LIMIT 0, 20; SHOW META" after error: Error connecting to Sphinx via the MySQL protocol. Error connecting to Sphinx via the MySQL protocol. Can't connect to MySQL server on '127.0.0.1' (111) - SELECT * FROM `product_core`, `product_delta` WHERE MATCH('*10K* *0603* *1* % @part_name *RES*') AND `sphinx_deleted` = 0 ORDER BY `prefer` DESC LIMIT 0, 20; SHOW META
  [1m[32mSphinx[0m  Retrying query "SELECT * FROM `product_core`, `product_delta` WHERE MATCH('*10K* *0603* *1* % @part_name *RES*') AND `sphinx_deleted` = 0 ORDER BY `prefer` DESC LIMIT 0, 20; SHOW META" after error: Error connecting to Sphinx via the MySQL protocol. Error connecting to Sphinx via the MySQL protocol. Can't connect to MySQL server on '127.0.0.1' (111) - SELECT * FROM `product_core`, `product_delta` WHERE MATCH('*10K* *0603* *1* % @part_name *RES*') AND `sphinx_deleted` = 0 ORDER BY `prefer` DESC LIMIT 0, 20; SHOW META
  [1m[32mSphinx Query (8.5ms)[0m  SELECT * FROM `product_core`, `product_delta` WHERE MATCH('*10K* *0603* *1* % @part_name *RES*') AND `sphinx_deleted` = 0 ORDER BY `prefer` DESC LIMIT 0, 20
Completed 500 Internal Server Error in 169ms (ActiveRecord: 96.7ms)

ThinkingSphinx::ConnectionError (Error connecting to Sphinx via the MySQL protocol. Error connecting to Sphinx via the MySQL protocol. Can't connect to MySQL server on '127.0.0.1' (111) - SELECT * FROM `product_core`, `product_delta` WHERE MATCH('*10K* *0603* *1* % @part_name *RES*') AND `sphinx_deleted` = 0 ORDER BY `prefer` DESC LIMIT 0, 20; SHOW META):
  app/controllers/boms_controller.rb:186:in `search_bom'
  app/controllers/boms_controller.rb:143:in `block in create'
  app/controllers/boms_controller.rb:118:in `each'
  app/controllers/boms_controller.rb:118:in `create'


  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.2ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.1ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (25.3ms)
Cannot render console with content type multipart/form-dataAllowed content types: [#<Mime::Type:0x000000057111a0 @synonyms=["application/xhtml+xml"], @symbol=:html, @string="text/html">, #<Mime::Type:0x00000005710ed0 @synonyms=[], @symbol=:text, @string="text/plain">, #<Mime::Type:0x0000000570dc08 @synonyms=[], @symbol=:url_encoded_form, @string="application/x-www-form-urlencoded">]
DEPRECATION WARNING: Currently, Active Record suppresses errors raised within `after_rollback`/`after_commit` callbacks and only print them to the logs. In the next version, these errors will no longer be suppressed. Instead, the errors will propagate normally just like in other Active Record callbacks.

You can opt into the new behavior and remove this warning by setting:

  config.active_record.raise_in_transactional_callbacks = true

 (called from block in tsort_each at /home/leon/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/tsort.rb:226)
DEPRECATION WARNING: Currently, Active Record suppresses errors raised within `after_rollback`/`after_commit` callbacks and only print them to the logs. In the next version, these errors will no longer be suppressed. Instead, the errors will propagate normally just like in other Active Record callbacks.

You can opt into the new behavior and remove this warning by setting:

  config.active_record.raise_in_transactional_callbacks = true

 (called from block in tsort_each at /home/leon/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/tsort.rb:226)


Started POST "/boms" for 127.0.0.1 at 2015-11-03 11:12:53 +0800
Processing by BomsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"kYwdV7WS4jzZaloJtU4wLRjSLc2riBEzMLLjn2e4Edna8mJyK8nEKrCs5u0HLFhNDZGGNm5pRNDoXps8ws7uRA==", "bom"=>{"excel_file"=>#<ActionDispatch::Http::UploadedFile:0x007f70aa31c780 @tempfile=#<Tempfile:/tmp/RackMultipart20151103-21332-uoxf4l.xls>, @original_filename="template3.xls", @content_type="application/vnd.ms-excel", @headers="Content-Disposition: form-data; name=\"bom[excel_file]\"; filename=\"template3.xls\"\r\nContent-Type: application/vnd.ms-excel\r\n">}, "commit"=>"上传"}
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `boms` (`excel_file`, `created_at`, `updated_at`) VALUES (?, ?, ?)  [["excel_file", "template3.xls"], ["created_at", "2015-11-03 03:12:53"], ["updated_at", "2015-11-03 03:12:53"]]
  [1m[36m (107.3ms)[0m  [1mCOMMIT[0m
  [1m[35mPart Load (0.2ms)[0m  SELECT  `parts`.* FROM `parts` WHERE `parts`.`part_code` = 'R' LIMIT 1
#<Part:0x007f70aaffea48>
  [1m[32mSphinx[0m  Retrying query "SELECT * FROM `product_core`, `product_delta` WHERE MATCH('*10K* *0603* *1* % @part_name *RES*') AND `sphinx_deleted` = 0 ORDER BY `prefer` DESC LIMIT 0, 20; SHOW META" after error: Error connecting to Sphinx via the MySQL protocol. Error connecting to Sphinx via the MySQL protocol. Can't connect to MySQL server on '127.0.0.1' (111) - SELECT * FROM `product_core`, `product_delta` WHERE MATCH('*10K* *0603* *1* % @part_name *RES*') AND `sphinx_deleted` = 0 ORDER BY `prefer` DESC LIMIT 0, 20; SHOW META
  [1m[32mSphinx[0m  Retrying query "SELECT * FROM `product_core`, `product_delta` WHERE MATCH('*10K* *0603* *1* % @part_name *RES*') AND `sphinx_deleted` = 0 ORDER BY `prefer` DESC LIMIT 0, 20; SHOW META" after error: Error connecting to Sphinx via the MySQL protocol. Error connecting to Sphinx via the MySQL protocol. Can't connect to MySQL server on '127.0.0.1' (111) - SELECT * FROM `product_core`, `product_delta` WHERE MATCH('*10K* *0603* *1* % @part_name *RES*') AND `sphinx_deleted` = 0 ORDER BY `prefer` DESC LIMIT 0, 20; SHOW META
  [1m[32mSphinx Query (10.8ms)[0m  SELECT * FROM `product_core`, `product_delta` WHERE MATCH('*10K* *0603* *1* % @part_name *RES*') AND `sphinx_deleted` = 0 ORDER BY `prefer` DESC LIMIT 0, 20
Completed 500 Internal Server Error in 172ms (ActiveRecord: 108.6ms)

ThinkingSphinx::ConnectionError (Error connecting to Sphinx via the MySQL protocol. Error connecting to Sphinx via the MySQL protocol. Can't connect to MySQL server on '127.0.0.1' (111) - SELECT * FROM `product_core`, `product_delta` WHERE MATCH('*10K* *0603* *1* % @part_name *RES*') AND `sphinx_deleted` = 0 ORDER BY `prefer` DESC LIMIT 0, 20; SHOW META):
  app/controllers/boms_controller.rb:186:in `search_bom'
  app/controllers/boms_controller.rb:143:in `block in create'
  app/controllers/boms_controller.rb:118:in `each'
  app/controllers/boms_controller.rb:118:in `create'


  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.8ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.4ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (28.7ms)
Cannot render console with content type multipart/form-dataAllowed content types: [#<Mime::Type:0x000000057111a0 @synonyms=["application/xhtml+xml"], @symbol=:html, @string="text/html">, #<Mime::Type:0x00000005710ed0 @synonyms=[], @symbol=:text, @string="text/plain">, #<Mime::Type:0x0000000570dc08 @synonyms=[], @symbol=:url_encoded_form, @string="application/x-www-form-urlencoded">]
DEPRECATION WARNING: Currently, Active Record suppresses errors raised within `after_rollback`/`after_commit` callbacks and only print them to the logs. In the next version, these errors will no longer be suppressed. Instead, the errors will propagate normally just like in other Active Record callbacks.

You can opt into the new behavior and remove this warning by setting:

  config.active_record.raise_in_transactional_callbacks = true

 (called from block in tsort_each at /home/leon/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/tsort.rb:226)
DEPRECATION WARNING: Currently, Active Record suppresses errors raised within `after_rollback`/`after_commit` callbacks and only print them to the logs. In the next version, these errors will no longer be suppressed. Instead, the errors will propagate normally just like in other Active Record callbacks.

You can opt into the new behavior and remove this warning by setting:

  config.active_record.raise_in_transactional_callbacks = true

 (called from block in tsort_each at /home/leon/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/tsort.rb:226)


Started POST "/boms" for 127.0.0.1 at 2015-11-03 11:15:21 +0800
  [1m[36mActiveRecord::SchemaMigration Load (2.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by BomsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"kYwdV7WS4jzZaloJtU4wLRjSLc2riBEzMLLjn2e4Edna8mJyK8nEKrCs5u0HLFhNDZGGNm5pRNDoXps8ws7uRA==", "bom"=>{"excel_file"=>#<ActionDispatch::Http::UploadedFile:0x007fc278008a10 @tempfile=#<Tempfile:/tmp/RackMultipart20151103-21890-1w2xe9t.xls>, @original_filename="template3.xls", @content_type="application/vnd.ms-excel", @headers="Content-Disposition: form-data; name=\"bom[excel_file]\"; filename=\"template3.xls\"\r\nContent-Type: application/vnd.ms-excel\r\n">}, "commit"=>"上传"}
DEPRECATION WARNING: Currently, Active Record suppresses errors raised within `after_rollback`/`after_commit` callbacks and only print them to the logs. In the next version, these errors will no longer be suppressed. Instead, the errors will propagate normally just like in other Active Record callbacks.

You can opt into the new behavior and remove this warning by setting:

  config.active_record.raise_in_transactional_callbacks = true

 (called from <class:Bom> at /home/leon/fastbom/app/models/bom.rb:3)
DEPRECATION WARNING: Currently, Active Record suppresses errors raised within `after_rollback`/`after_commit` callbacks and only print them to the logs. In the next version, these errors will no longer be suppressed. Instead, the errors will propagate normally just like in other Active Record callbacks.

You can opt into the new behavior and remove this warning by setting:

  config.active_record.raise_in_transactional_callbacks = true

 (called from <class:Bom> at /home/leon/fastbom/app/models/bom.rb:3)
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `boms` (`excel_file`, `created_at`, `updated_at`) VALUES (?, ?, ?)[0m  [["excel_file", "template3.xls"], ["created_at", "2015-11-03 03:15:21"], ["updated_at", "2015-11-03 03:15:21"]]
  [1m[35m (87.6ms)[0m  COMMIT
  [1m[36mPart Load (0.3ms)[0m  [1mSELECT  `parts`.* FROM `parts` WHERE `parts`.`part_code` = 'R' LIMIT 1[0m
#<Part:0x000000067e6048>
  [1m[32mSphinx[0m  Retrying query "SELECT * FROM `product_core`, `product_delta` WHERE MATCH('*10K* *0603* *1* % @part_name *RES*') AND `sphinx_deleted` = 0 ORDER BY `prefer` DESC LIMIT 0, 20; SHOW META" after error: Error connecting to Sphinx via the MySQL protocol. Error connecting to Sphinx via the MySQL protocol. Can't connect to MySQL server on '127.0.0.1' (111) - SELECT * FROM `product_core`, `product_delta` WHERE MATCH('*10K* *0603* *1* % @part_name *RES*') AND `sphinx_deleted` = 0 ORDER BY `prefer` DESC LIMIT 0, 20; SHOW META
  [1m[32mSphinx[0m  Retrying query "SELECT * FROM `product_core`, `product_delta` WHERE MATCH('*10K* *0603* *1* % @part_name *RES*') AND `sphinx_deleted` = 0 ORDER BY `prefer` DESC LIMIT 0, 20; SHOW META" after error: Error connecting to Sphinx via the MySQL protocol. Error connecting to Sphinx via the MySQL protocol. Can't connect to MySQL server on '127.0.0.1' (111) - SELECT * FROM `product_core`, `product_delta` WHERE MATCH('*10K* *0603* *1* % @part_name *RES*') AND `sphinx_deleted` = 0 ORDER BY `prefer` DESC LIMIT 0, 20; SHOW META
  [1m[32mSphinx Query (9.9ms)[0m  SELECT * FROM `product_core`, `product_delta` WHERE MATCH('*10K* *0603* *1* % @part_name *RES*') AND `sphinx_deleted` = 0 ORDER BY `prefer` DESC LIMIT 0, 20
Completed 500 Internal Server Error in 234ms (ActiveRecord: 92.7ms)

ThinkingSphinx::ConnectionError (Error connecting to Sphinx via the MySQL protocol. Error connecting to Sphinx via the MySQL protocol. Can't connect to MySQL server on '127.0.0.1' (111) - SELECT * FROM `product_core`, `product_delta` WHERE MATCH('*10K* *0603* *1* % @part_name *RES*') AND `sphinx_deleted` = 0 ORDER BY `prefer` DESC LIMIT 0, 20; SHOW META):
  app/controllers/boms_controller.rb:186:in `search_bom'
  app/controllers/boms_controller.rb:143:in `block in create'
  app/controllers/boms_controller.rb:118:in `each'
  app/controllers/boms_controller.rb:118:in `create'


  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.7ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.1ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/leon/.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (24.9ms)
Cannot render console with content type multipart/form-dataAllowed content types: [#<Mime::Type:0x00000004757a98 @synonyms=["application/xhtml+xml"], @symbol=:html, @string="text/html">, #<Mime::Type:0x000000047577a0 @synonyms=[], @symbol=:text, @string="text/plain">, #<Mime::Type:0x00000004754500 @synonyms=[], @symbol=:url_encoded_form, @string="application/x-www-form-urlencoded">]
