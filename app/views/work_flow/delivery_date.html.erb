
<div class="row panel panel-default" style="margin: 1px 0px;padding: 0px;background-color: #d9edf7;">
   
    
    <div class="col-md-7 nav navbar-nav" style="margin: 3px;padding: 0px;">        
        <%= link_to "查询未填写交期的订单",  {action: "index", empty_date: "show_empty"},class: "btn btn-danger btn-sm" %>            
    
        <%= link_to "查询料齐的订单",  {action: "index", empty_date: "ready"},class: "btn btn-warning btn-sm" %> 


        <script>
        function change_1(){
               document.getElementById('upEndDate_2').className='collapse';
               document.getElementById('upEndDate_3').className='collapse';
               document.getElementById('upEndDate_4').className='collapse'; 
               document.getElementById('upEndDate_4_statebut').className='glyphicon glyphicon-plus'          
           }
        function change_2(){
               document.getElementById('upEndDate_1').className='collapse';
               document.getElementById('upEndDate_3').className='collapse'; 
               document.getElementById('upEndDate_4').className='collapse';   
               document.getElementById('upEndDate_4_statebut').className='glyphicon glyphicon-plus'            
           }
        function change_3(){
               document.getElementById('upEndDate_2').className='collapse';
               document.getElementById('upEndDate_1').className='collapse';
               document.getElementById('upEndDate_4').className='collapse'; 
               document.getElementById('upEndDate_4_statebut').className='glyphicon glyphicon-plus'   
           }
        </script>

        <div class="btn-group" role="group">
            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" >批量导入交期工具<span class="caret"></span>
            </button>
            <ul class="dropdown-menu">
        <li>        
        <a  id="end1" type="button" data-toggle="collapse" data-target="#upEndDate_1" aria-expanded="false" aria-controls="collapseExamplebom" onclick="change_1()">批量导入贴片交期</a>
        </li>

        <li>       
        <a  id="end2" type="button" data-toggle="collapse" data-target="#upEndDate_2" aria-expanded="false" aria-controls="collapseExamplebom" onclick="change_2()">批量导入后悍交期</a>
        </li>

        <li>        
        <a  id="end3" type="button" data-toggle="collapse" data-target="#upEndDate_3" aria-expanded="false" aria-controls="collapseExamplebom" onclick="change_3()">批量导入清尾完成时间</a>
        </li>
        </ul>
     </div>

        <script>
        function change_end(){
        if (document.getElementById('upEndDate_4').className=='collapse in')
            {
             document.getElementById('upEndDate_4_statebut').className='glyphicon glyphicon-plus';
             document.getElementById('upEndDate_1').className='collapse';
             document.getElementById('upEndDate_2').className='collapse'; 
             document.getElementById('upEndDate_3').className='collapse';  
            }
        else
            {
             document.getElementById('upEndDate_4_statebut').className='glyphicon glyphicon-minus';
             document.getElementById('upEndDate_1').className='collapse';
             document.getElementById('upEndDate_2').className='collapse'; 
             document.getElementById('upEndDate_3').className='collapse';  
            }
        }
        </script>
        <button class="btn btn-primary btn-sm" type="button" data-toggle="collapse" data-target="#upEndDate_4" aria-expanded="false" aria-controls="collapseExamplebom" onclick="change_end()">批量导入备注
            <span id="upEndDate_4_statebut" class="glyphicon glyphicon-plus" aria-hidden="true"></span>
        </button> 



    </div>


    <%= form_tag('/work_flow', method:"get", class:"form-inline") do %>
       <div class="col-md-4 form-group nav navbar-nav navbar-right" style="margin: 3px;padding: 0px;">
          <lable for="order" , class="sr-only">Qrder : </lable>
          <div class="input-group input-group-sm"> 
            <span class="input-group-addon"> 
                <%= radio_button :order_s, :order_s, '1'  , :checked => @order_check_1 %>
                <%=  '全部' %>
                <%= radio_button :order_s, :order_s, '2' , :checked => @order_check_2 %> 
                <%= '已结单' %>
                <%= radio_button :order_s, :order_s, '3', :checked => @order_check_3 %>
                <%=  '未结单' %>
            </span>   
            <%= text_field_tag :order, params[:order], class:"form-control input-lg", size:"100%",  placeholder:"单号"%>          
            <div class="input-group-btn">
              <%= submit_tag "搜索", class:"btn btn-primary btn-lg" %>
            </div>
          </div>
        </div>
      <% end %>
</div>

<div class="row" style="padding-top: 7px;padding-right: 8px;padding-left: 8px;">
    <div class="col-md-6" >
    
    <div class="collapse" id="upEndDate_1">
        <div class="well">
                <%= form_tag('/up_enddate', method:"post", class:"form-inline") do %>
                <div>
                    <p class="text-warning">数据格式：<code>单号  贴片交期 </code></p>
                    <p>
                        <%= text_area_tag :smd_end_date, params[:smd_end_date], size:"100x10", class:"form-control"%>
                    </p>                
                </div> 
                <div >
                    <%= submit_tag "提交", class:"btn btn-info btn-lg" %>
                </div>
                <% end %> 
        </div>
    </div>

    <div class="collapse" id="upEndDate_2">
        <div class="well">
                <%= form_tag('/up_enddate', method:"post", class:"form-inline") do %>
                <div>
                    <p class="text-warning">数据格式：<code>单号  后悍交期 </code></p>
                    <p>
                        <%= text_area_tag :dip_end_date, params[:dip_end_date], size:"100x10", class:"form-control"%>
                    </p>                
                </div> 
                <div >
                    <%= submit_tag "提交", class:"btn btn-info btn-lg" %>
                </div>
                <% end %> 
        </div>
    </div>
  
    <div class="collapse" id="upEndDate_3">
        <div class="well">
                <%= form_tag('/up_enddate', method:"post", class:"form-inline") do %>
                <div>
                    <p class="text-warning">数据格式：<code>单号  清尾完成交期 </code></p>
                    <p>
                        <%= text_area_tag :clear_date, params[:clear_date], size:"100x10", class:"form-control"%>
                    </p>                
                </div> 
                <div >
                    <%= submit_tag "提交", class:"btn btn-info btn-lg" %>
                </div>
                <% end %> 
        </div>
    </div>
    
    <div class="collapse" id="upEndDate_4">
        <div class="well">
                <%= form_tag('/up_enddate', method:"post", class:"form-inline") do %>
                <div>
                    <p class="text-warning">数据格式：<code>单号  备注 </code></p>
                    <p>
                        <%= text_area_tag :remarks, params[:remarks], size:"100x10", class:"form-control"%>
                    </p>                
                </div> 
                <div >
                    <%= submit_tag "提交", class:"btn btn-info btn-lg" %>
                </div>
                <% end %> 
        </div>
    </div>
    
    
    
    </div>
</div>




<% if @work_flow %>
<%= will_paginate(@work_flow) %>
<% if user_signed_in? %>
        <% if can? :work_b, :all %>
<div class="row " style="padding-top: 1px;padding-right: 8px;padding-left: 8px;">
    <div class="col-lg-12 " style="margin: 0px;padding: 0px;" >
        
        <div class="panel" style="margin: 2px;padding: 0px;"> 
        <table class="table table-bordered table-condensed table-hover" >
            <thead>
                <tr>
                    <th class="bg-primary" width="60">操作</th>
                    <th class="bg-primary" width="200">单号</th>
                    <th class="bg-primary" width="80">数量</th>
                    <th class="bg-primary">业务交期</th>
                    <th class="bg-primary" width="200">产品代码</th>
                    
                    <th class="bg-primary" width="80">入库数量</th>
                   
                    <th class="bg-primary">贴片通知生产</th>
                    <th class="bg-info"><%= link_to "贴片交期",  {action: "index", sort_date: "smd"} %><span class="caret"></th>
                    <th class="bg-info">贴片完成状态</th>
                    <th class="bg-primary">后焊通知生产</th>
                    <th class="bg-info"><%= link_to "后焊交期",  {action: "index", sort_date: "dip"} %><span class="caret"></th>
                    
 
                    <th class="bg-primary">补料已回</th>
                    <th class="bg-primary">补料状态</th>
                    <th class="bg-info"><%= link_to "清尾完成",  {action: "index", sort_date: "clear"} %><span class="caret"></th>
                    <th class="bg-primary">备注</th>
                </tr>
            </thead>
            
            <tbody>
                <% @work_flow.each do |work| %>
                <%= form_tag('/edit_work', method:"post") do %>
                <tr <% if work.order_state.to_i == 1 %>class="success"<% elsif work.order_state.to_i == 2 %>class="warning"<% elsif work.order_state.to_i == 3 %>class="danger"<% end %> >                
                    <td><%= submit_tag "提交", class:"btn btn-success btn-sm" %></td>
                    <td>
                        <%= text_field_tag :work_id, params[:work_id], class:"sr-only", size:2 , value: work.id.to_s %>
                        <%= work.order_no %>
                    </td>
                    <td><%= work.order_quantity %></td>
                    <td><%= work.salesman_end_date %></td> 
                    <td><%= work.product_code %></td>                 
                    <td><%= work.warehouse_quantity %></td>
                    
                    <td class="bg-warning"><%= work.smd_start_date %></td> 
                    <td>
                        <%= text_field_tag :smd_end_date, params[:smd_end_date], id: work.id.to_s+"smd_end_date",class:"form-control input-sm",value:work.smd_end_date , size:"8"%>                                      
                        <script type="text/javascript">
                          $(function () {
                            $('#<%= work.id.to_s+"smd_end_date" %>').datetimepicker({
                              useCurrent: false,
                              format: 'YYYY-MM-DD'
                            });    
                          });
                        </script>
                    </td> 
                    <td>
                        <%= text_field_tag :smd_state, params[:smd_state], id: work.id.to_s+"smd_state",class:"form-control input-sm",value:work.smd_state , size:"5" %>
                    </td>
                    <td><%= work.dip_start_date %></td> 
                    <td>
                        <%= text_field_tag :dip_end_date, params[:dip_end_date], id: work.id.to_s+"dip_end_date",class:"form-control input-sm",value:work.dip_end_date , size:"8"%>                                       
                        <script type="text/javascript">
                          $(function () {
                            $('#<%= work.id.to_s+"dip_end_date" %>').datetimepicker({
                              useCurrent: false,
                              format: 'YYYY-MM-DD'
                            });    
                          });
                        </script>
                    </td> 
                    <td><%= work.supplement_date %></td>
                    <td><%= work.feed_state %></td>
                    <td>
                        <%= text_field_tag :clear_date, params[:clear_date], id: work.id.to_s+"clear_date",class:"form-control input-sm",value:work.clear_date , size:"8" %>
                        <script type="text/javascript">
                          $(function () {
                            $('#<%= work.id.to_s+"clear_date" %>').datetimepicker({
                              useCurrent: false,
                              format: 'YYYY-MM-DD'
                            });    
                          });
                        </script>
                    </td>
                    <td>  
                        <%= text_field_tag :remark, params[:remark], id: work.id.to_s+"remark",class:"form-control input-sm",value:work.remark , size:"20" %>
                    </td> 
                </tr>
                <% end %>
                <% end %>
            </tbody>
            
        </table>
        </div>
        
        
   
    </div>
</div>

        <% end %>
        <% end %>

<% end %>


<%
meta title: "Quick Turn PCB Prototype and Electronic PCB Assembly Service| Fastbom.com.",
     description: "Fastbom offers Quick Turn PCB Prototype and Electronic PCB Assembly Service in low to mid volumes including PCB fabrication, parts procurement and final assembly. upload your Bill of Materials (BOM), Assembly Drawing, Fabrication Drawing (used to do incoming inspection of your PCB),  to get a fast quote.",
     keywords: "pcb assembly service, pcb assembly services, pcb assemblies, electronic assemblies, electronic assembly services, pcb prototype services, pcb prototype  service"
%>

